# add - only adds the layer if it does not exist in the dxf file
# update - updates the layer if it exists in the dxf file
# folderPrefix: "~/IONOS HiDrive"
folderPrefix: "~/hidrive"
projects:
  - name: Plasten
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/Plasten.dxf"
    dxfLayers:
      - name: Flur
        # add: true
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/flur.shp"
        label: flurname
        color: Cyan
        close: true
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: true
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
      - name: Parcel
        add: true
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/parcel.shp"
        label: label
        color: Black
        close: true
        locked: true
        linetype: ACAD_ISO11W100
        lineweight: 30
        plot: true
        frozen: false
        is_on: true 
        vp_freeze: false
        transparency: 0.0
      - name: Gemarkung
        # add: true
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/gemarkung.shp"
        label: gmkname
        color: "Medium Orange Red"
        close: true
        locked: true
        linetype: Continuous
        lineweight: 13
        plot: false
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
      - name: Gemeinde
        # add: true
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/gemeinde.shp"
        label: gen
        color: "Dark Red"
        close: true
        locked: true
        linetype: Continuous
        lineweight: 13
        plot: false
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
      - name: Grünfläche Input 1
        add: false
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/geltungsbereich_abstand.shp"
        color: "Light Green"
        close: true
        locked: false
      - name: Wald
        add: true
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/wald.shp"
        color: "Dark Green"
        close: true
        locked: false
      - name: Baumabstand
        # add: false
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/baum_abstand.shp"
        color: "Dark Green"
        close: true
        locked: false
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 5
      # - name: Biotope Input 1
      #   # add: true
      #   update: true
      #   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/biotope.shp"
      #   color: "Green"
      #   close: true
      #   locked: false
      - name: Geltungsbereich 1
        add: true
        update: true
        color: "Red"
        locked: false
        close: true
        operations:
          - type: filter_by_attributes
            layers:
              - name: Parcel
                valueList:
                  - "1"
                  - "2"
                  - "4"
                  - "6"
                  - "7"
                  - "14"
              - name: Flur
                valueList:
                  - "Flur 1"
              - name: Gemarkung
                valueList:
                  - "Groß Plasten"
              - name: Gemeinde
                valueList:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand
      - name: Geltungsbereich 2
        add: true
        update: true
        color: "Red"
        locked: false
        close: true
        operations:
          - type: filter_by_attributes
            layers:
              - name: Parcel
                valueList:
                  - "24/8"
                  - "24/9"
              - name: Flur
                valueList:
                  - "Flur 1"
              - name: Gemarkung
                valueList:
                  - "Groß Plasten"
              - name: Gemeinde
                valueList:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand
      - name: Geltungsbereich 3
        add: true
        update: true
        color: "Red"
        locked: false
        close: true
        operations:
          - type: filter_by_attributes
            layers:
              - name: Parcel
                valueList:
                  - "41/1"
              - name: Flur
                valueList:
                  - "Flur 2"
              - name: Gemarkung
                valueList:
                  - "Klein Plasten"
              - name: Gemeinde
                valueList:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand
      - name: Waldabstand
        add: true
        update: true
        color: "Dark Green"
        close: true
        locked: false
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich 1
              - Geltungsbereich 2
              - Geltungsbereich 3
      # - name: Biotope
      #   # add: true
      #   update: true
      #   color: "Light Green"
      #   close: true
      #   locked: false
      #   operations:
      #     - type: buffer
      #       mode: keep
      #       layers:
      #         - Biotope Input 1
      #       distance: 10
      #     - type: buffer
      #       mode: keep
      #       layers:
      #         - Biotope Input 1
      #       distance: -5
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich 1
      #         - Geltungsbereich 2
      #         - Geltungsbereich 3
      - name: Grünfläche
        update: true
        color: "Light Green"
        close: true
        locked: false
        add: true
        operations:
          - type: merge
            layers:
              - Grünfläche Input 1
          # - type: difference
          #   layers:
          #     - Weg Abstand
          - type: intersection
            layers:
              - Geltungsbereich 1
              - Geltungsbereich 2
              - Geltungsbereich 3
        outputShape: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/grünfläche.shp"
      # - name: Baufeld
      #   add: true
      #   update: true
      #   color: "Light Red"
      #   locked: false
      #   close: true
      #   operations:
      #     - type: copy
      #       layers:
      #         - Geltungsbereich 1
      #         - Geltungsbereich 2
      #         - Geltungsbereich 3
      #     - type: difference
      #       layers:
      #         - Waldabstand
      #         - Grünfläche
      #         - Biotope
      - name: WMTS DOP
        add: true
        update: false
        color: Black
        locked: true
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            # zoom: "14"
            zoom: 10
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/DOP"
            layers:
              - Geltungsbereich 1
              - Geltungsbereich 2
              - Geltungsbereich 3
            buffer: 100
      - name: WMTS Basemap
        add: true
        update: false
        color: Black
        locked: true
        operations:
          - type: wmts
            url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
            layer: "de_basemapde_web_raster_farbe"
            zoom: "10"
            proj: "DE_EPSG_25833_ADV"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Basemap"
            layers:
              - Geltungsbereich 1
              - Geltungsbereich 2
              - Geltungsbereich 3
            buffer: 200  
  - name: Torgelow
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/Zeichnung/torgelow.dxf"
    dxfLayers:
      - name: Flur
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/flur2.shp"
        label: "flurname"
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: true
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
        add: true
      - name: Parcel
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/parcel2.shp"
        label: label
        color: White
        linetype: ACAD_ISO11W100
        lineweight: 30
        plot: true
        frozen: false
        is_on: true 
        vp_freeze: false
        transparency: 0.0
        locked: true
        close: true
        add: true
      - name: Gemarkung
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemarkung2.shp"
        label: gmkname
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
        add: true
      - name: Gemeinde
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemeinde2.shp"
        label: gen
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
        add: true
      - name: Wald
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/wald.shp"
        label: waldname
        color: Dark Green
        linetype: Continuous
        lineweight: 13
        plot: true
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        transparency: 0.0
        close: true
        add: true
      # - name: Biotope
      #   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/biotope.shp"
      #   label: biotopn
      #   color: "Green"
      #   close: true
      #   locked: false
      #   add: true
      - name: Straße
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/abstand.shp"
      # - name: Biotope Puffer
      #   color: "Light Green"
      #   close: true
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Biotope
      #       distance: 5
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich
      - name: Straße Abstand
        update: true # I think this is optional, if that layer does not already exists in the dxf file, but it cant hurt and makes sure that it updates
        operations:
          - type: buffer
            layers: 
              - Straße
            distance: 7
      # - name: Flur Offset
      #   update: true
      #   color: "Light Green"
      #   close: false
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Flur
      #       distance: 10
      - name: Weg
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/weg.shp"
      - name: Weg Abstand
        update: true
        operations:
          # - type: buffer
          #   layers:
          #     - Weg
          #   distance: 1
          - type: copy
            layers:
              - Weg
      - name: Geltungsbereich
        update: true
        color: "Red"
        locked: false
        close: false
        add: true
        operations:
          - type: filter_by_attributes
            layers:
              - name: Parcel
                valueList:
                  - "81"
                  - "87/1"
                  - "89"
                  - "95"
                  - "96"
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  - "103"
                  - "104"
              - name: Flur
                valueList:
                  - Flur 2
              - name: Gemarkung
                valueList:
                  - Torgelow am See
              - name: Gemeinde
                valueList:
                  - Torgelow am See
          - type: difference
            layers:
              - Wald
              - Straße Abstand
              - Weg Abstand
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/fromCad/geltungsbereich.shp"
      - name: Wald Abstand
        update: true
        color: "Light Green"
        close: true
        locked: false
        # add: true
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich
      - name: Grünflächeinput
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/grünfläche.shp"
      - name: Temp Grünfl
        update: true
        operations:
          - type: filter_by_attributes
            layers:
              - name: Parcel
                valueList:
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  # - "103"
              - name: Flur
                valueList:
                  - Flur 2
              - name: Gemarkung
                valueList:
                  - Torgelow am See
              - name: Gemeinde
                valueList:
                  - Torgelow am See
      - name: Grünfläche
        update: true
        color: "Light Green"
        close: true
        locked: false
        add: true
        operations:
          - type: merge
            layers:
              - Grünflächeinput
              - Temp Grünfl
              - Wald Abstand
          - type: difference
            layers:
              - Weg Abstand
          - type: intersection
            layers:
              - Geltungsbereich
          - type: buffer
            distance: -5
            mode: keep # Keeps both the original geometries and the buffered ones
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/fromCad/grünfläche.shp"
      - name: Baufeld
        update: true
        color: "Light Red"
        locked: false
        close: true
        textColor: "White"
        add: true
        operations:
          - type: copy
            layers:
              - Geltungsbereich
          - type: difference
            layers:
              - Wald Abstand
              - Grünfläche
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/fromCad/baufeld.shp"
      - name: Baugrenze
        update: true
        color: "Blue"
        locked: false
        close: true
        add: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/fromCad/baugrenze.shp"
      - name: WMTS DOP
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/DOP"
            layers:
              - Geltungsbereich
            buffer: 100
      - name: WMTS Basemap
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
            layer: "de_basemapde_web_raster_farbe"
            zoom: "10"
            proj: "DE_EPSG_25833_ADV"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/Basemap"
            layers:
              - Geltungsbereich
            buffer: 200
