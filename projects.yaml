# add - only adds the layer if it does not exist in the dxf file
# updateDxf - updateDxfs the layer if it exists in the dxf file
# folderPrefix: "~/IONOS HiDrive"
folderPrefix: "~/hidrive"
projects:
  - name: Friedrichshof
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/24 09.25 Friedrichshof  Zeichnung -2.dxf"
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/test.dxf"
    dxfDumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/dxf_dump"
    geomLayers:
      - name: Geltungsbereich
        updateDxf: false
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/geltungsbereich.shp"
      - name: WasserBodenVerband
        updateDxf: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Grundlagen/wasser_bodeverband/5LV11_PVA-Fhof.shp"
      - name: WBVGrünfläche
        updateDxf: false
        operations:
          - type: buffer
            layers:
              - WasserBodenVerband
            distance: 7
      - name: Externer Ausgleich
        updateDxf: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Lagefaktor_var1/compensatory/Ausgleich_Acker/Ausgleich.shp"
      # - name: Contour
      #   updateDxf: false
      #   style:
      #     color: white
      #     locked: false
      #   updateDxf: false
      #   label: elevation
      #   operations:
      #     - type: contour
      #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 1000
      - name: WMS Gebäude
        updateDxf: true
        operations:
          - type: wms
            url: "https://www.geodaten-mv.de/dienste/gebäude_wms"
            layer: "gebäude"
            srs: "EPSG:25833"
            format: "image/png"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Gebäude"
            layers:
              - Geltungsbereich
            buffer: 600
            zoom: 18
            overwrite: true
            postProcess:
                colorMap:
                  "#ff0000": "#808080"  # Map red to grey
                alphaColor: "#ffffff"  # Set white to fully transparent
                # tolerance: 30  # Increased tolerance to catch similar shades
                grayscale: true
                # removeText: true
      # - name: WMS Höhenlinien
      #   updateDxf: true
      #   operations:
      #     - type: wms
      #       url: "https://www.geodaten-mv.de/dienste/dgm_wms"
      #       layer: "hohenlinien"
      #       srs: "EPSG:25833"
      #       format: "image/png"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Höhenlinien"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 600
      #       zoom: 0 # Zoom doesnt work (only for this layer?)
      #       overwrite: true
      #       postProcess:
      #         alphaColor: "#ffffff"  # Set white to fully transparent
      #         removeText: true
  - name: Plasten
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/Plasten.dxf"
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/dev/test.dxf"
    # dxfDumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten//GIS/dxf_dump"
    shapefileOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated"
    legends:
      - id: "Main Legend"
        title: "Planzeichen"
        subtitle: "(gem. PlanzV 1990-PlanzV 90 v.18.12.1990)"
        max_width: 160
        title_spacing: 0      # Space after the main legend title
        subtitle_spacing: 4   # Space after the main subtitle
        group_spacing: 3      # Space between different groups in the legend
        group_title_spacing: 2 # Space after each group's title
        group_subtitle_spacing: 3 # Space after each group's subtitle
        item_spacing: 4       # Space between individual items within a group
        position:
          x: 367841
          y: 5942622
        titleTextStyle:
          height: 8
          color: "red-dusky"
          text_style: "Arial"
          # rotation: 45
          # attachment_point: MTEXT_MIDDLE_CENTER
          # flow_direction: MTEXT_LEFT_TO_RIGHT
          # line_spacing_style: MTEXT_AT_LEAST
          # line_spacing_factor: 1.5
          # bg_fill: 1
          # bg_fill_color: 'yellow'
          # bg_fill_scale: 1.2
          # underline: True
          # overline: False
          # strike_through: False
          # oblique_angle: 15
        titleSubtitleStyle:
          height: 3.5
          color: "red-dusky"
          text_style: "Arial"
        groupTextStyle:
          color: "white"
          height: 5
          text_style: "Arial"
        subtitleTextStyle:
          color: "white"
          height: 2.5
          text_style: "Arial"
        itemTextStyle:
          color: "white"
          height: 3
          text_style: "Arial"
          attachment_point: MTEXT_MIDDLE_LEFT
        groups:
          - name: "Art der baulichen Nutzung"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
            items:
              - name: "Sonstiges Sondergebiet (§ 11 Abs. 2 BauNVO) Zweckbestimmung: Energiegewinnung auf der Basis solarer Strahlungsenergie"
                type: area
                applyHatch: true
                style: baufeldLegend
                blockSymbol: "Sonstiges Sondergebiet EBS"
                blockSymbolScale: 2
          - name: "Maß der baulichen Nutzung"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
            items:
              - name: "Grundflächenzahl"
                type: empty
                blockSymbol: "GRZ"
                blockSymbolScale: 2
          - name: "Bauweise, Baulinien, Baugrenzen"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 2 BauGB"
            items:
              - name: "Baugrenze"
                type: empty
                blockSymbol: "Baugrenze"   
          # - name: "Verkehrsflächen"
          #   updateDxf: true
          #   subtitle: "(§ 9 Abs. 1 Nr. 11 und Abs. 6 BauGB)"
          #   items:
          #     - name: "Verkehrsfläche besonderer Zweckbestimmung"
          #       type: area
          #       applyHatch: true
          #       style: verkehrsfläche
          #     - name: "Verkehrsberuhigter Bereich"
          #       type: empty
          #       blockSymbol: "Verkehrsberuhigter Bereich"
          #       blockSymbolScale: 2
          #     - name: "Privat"
          #       type: empty
          #       blockSymbol: "Privat"
          #       blockSymbolScale: 2
          - name: "Grünflächen"
            updateDxf: true
            subtitle: "§ 9 Abs.1 Nr. 15 BauGB"
            items:
              - name: "Private Grünflächen"
                type: area
                style: grünflächeLegend
                applyHatch: true
          # - name: "Wasserflächen und Flächen für die Wasserwirtschaft, den Hochwasserschutz und die Regelung des Wasserabflusses"
          #   updateDxf: true
          #   subtitle: "§ 9 Abs. 1 Nr. 16 BauBG"
          #   items:
          #     - name: "Wasserflächen"
          #       type: area
          #       style: waterLegend
          #       applyHatch: true
          - name: "Planungen, Nutzungsregelungen, Maßnahmen und Flächen für Maßnahmen zum Schutz, zur Pflege und zur Entwicklung von Natur und Landschaft"
            updateDxf: true
            subtitle: "§ 9 Abs.1 Nr. 20 BauGB"
            items:
              - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
                type: empty
                blockSymbol: "Schutzflächeumgrenzung"
              # - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
              #   type: empty
              #   blockSymbol: "Schutzflächeumgrenzung Small"
              #   blockSymbolScale: 1.8
          - name: "Sonstige Planzeichen"
            updateDxf: true
            items:
              - name: "Grenze des räumlichen Geltungsbereiches des Bebauungsplans"
                subtitle: "(§ 9 Abs. 7 BauGB)"
                type: area
                rectangleStyle: geltungsbereich_2
              - name: "Hauptversorgungs- und Hauptabwasserleitungen unterirdisch"
                subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
                type: area
                blockSymbol: "Leitung oberirdisch"
                blockSymbolScale: 2
              - name: "Hauptversorgungs- und Hauptabwasserleitungen oberirdisch"
                subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
                type: area
                blockSymbol: "Leitung unterirdisch"
                blockSymbolScale: 2
              - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
                subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
                type: area
                rectangleStyle: gfl1
                blockSymbol: "GFL1"
                blockSymbolScale: 2
              - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
                subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
                type: empty
                blockSymbol: "GFL2"
                blockSymbolScale: 1.6
          - name: "Darstellung ohne Normcharakter"
            updateDxf: true
            items:
              - name: "Gemeindegrenze"
                type: diagonal_line
                style: gemeindegrenze
              - name: "Gemarkungsgrenze"
                type: line
                style: gemarkungsgrenze
              - name: "Flurgrenze"
                type: line
                style: flurgrenze
              - name: "Flurstücksnummer\nFlurstücksgrenze"
                type: empty
                blockSymbol: "Parcel"
                blockSymbolScale: 1.4
              - name: "anstehendes Gelände in Meter über NHN im amtlichen Höhenbezugssystem DHHN2016 als unterer Höhenbezugspunkt"
                type: empty
                blockSymbol: "Contours"
                blockSymbolScale: 1.4
              - name: "Bemaßung in Meter"
                type: empty
                blockSymbol: "Bemassung2"
          - name: "Nachrichtliche Übernahme"
            updateDxf: true
            items:
              - name: "gesetzlich geschützes Biotop § 9 Abs. 6 BauGB i. V. m. § 20 NatSchAG - MV"
                type: area
                rectangleStyle: gesGeschuetzesBiotop
                blockSymbol: "Gesetzlich geschütztes Biotop"
                blockSymbolScale: 1.8
              - name: "Wald"
                type: area
                style: wald
                applyHatch: true
              - name: "Baum"
                type: empty
                blockSymbol: "Baum"
                blockSymbolScale: 1.8
              - name: "Baum erhalten"
                type: empty
                blockSymbol: "Baum erhalten"
                blockSymbolScale: 1.8
              - name: "Abgrenzung unterschiedlicher Nutzung, z. B. von Baugebieten, oder Abgrenzung des Maßes der Nutzung innerhalb eines Baugebiets z.B. § 1 Abs. 4 § 16 Abs. 5 BauNVO)"
                type: empty
                blockSymbol: "Abgrenzung unterschiedlicher Nutzung"
                blockSymbolScale: 1.4
      - id: "Legend NW"
        title: "Planzeichen"
        subtitle: "(gem. PlanzV 1990-PlanzV 90 v.18.12.1990)"
        max_width: 160
        title_spacing: 0      # Space after the main legend title
        subtitle_spacing: 4   # Space after the main subtitle
        group_spacing: 3      # Space between different groups in the legend
        group_title_spacing: 2 # Space after each group's title
        group_subtitle_spacing: 3 # Space after each group's subtitle
        item_spacing: 4       # Space between individual items within a group
        position:
          x: 368330
          y: 5942622
        titleTextStyle:
          height: 8
          color: "red-dusky"
          text_style: "Arial"
        titleSubtitleStyle:
          height: 3.5
          color: "red-dusky"
          text_style: "Arial"
        groupTextStyle:
          color: "white"
          height: 5
          text_style: "Arial"
        subtitleTextStyle:
          color: "white"
          height: 2.5
          text_style: "Arial"
        itemTextStyle:
          color: "white"
          height: 3
          text_style: "Arial"
          attachment_point: MTEXT_MIDDLE_LEFT
        groups:
          - name: "Art der baulichen Nutzung"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
            items:
              - name: "Sonstiges Sondergebiet (§ 11 Abs. 2 BauNVO) Zweckbestimmung: Energiegewinnung auf der Basis solarer Strahlungsenergie"
                type: area
                applyHatch: true
                style: baufeldLegend
                blockSymbol: "Sonstiges Sondergebiet EBS"
                blockSymbolScale: 2
          - name: "Maß der baulichen Nutzung"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
            items:
              - name: "Grundflächenzahl"
                type: empty
                blockSymbol: "GRZ"
                blockSymbolScale: 2
          - name: "Bauweise, Baulinien, Baugrenzen"
            updateDxf: true
            subtitle: "§ 9 Abs. 1 Nr. 2 BauGB"
            items:
              - name: "Baugrenze"
                type: empty
                blockSymbol: "Baugrenze"   
          - name: "Grünflächen"
            updateDxf: true
            subtitle: "§ 9 Abs.1 Nr. 15 BauGB"
            items:
              - name: "Private Grünflächen"
                type: area
                style: grünflächeLegend
                applyHatch: true
          - name: "Planungen, Nutzungsregelungen, Maßnahmen und Flächen für Maßnahmen zum Schutz, zur Pflege und zur Entwicklung von Natur und Landschaft"
            updateDxf: true
            subtitle: "§ 9 Abs.1 Nr. 20 BauGB"
            items:
              - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
                type: empty
                blockSymbol: "Schutzflächeumgrenzung"
          - name: "Sonstige Planzeichen"
            updateDxf: true
            items:
              - name: "Grenze des räumlichen Geltungsbereiches des Bebauungsplans"
                subtitle: "(§ 9 Abs. 7 BauGB)"
                type: area
                rectangleStyle: geltungsbereich_2
          - name: "Darstellung ohne Normcharakter"
            updateDxf: true
            items:
              - name: "Gemeindegrenze"
                type: line
                style: gemeindegrenze
              - name: "Gemarkungsgrenze"
                type: line
                style: gemarkungsgrenze
              - name: "Flurgrenze"
                type: line
                style: flurgrenze
              - name: "Flurstücksnummer\nFlurstücksgrenze"
                type: empty
                blockSymbol: "Parcel"
                blockSymbolScale: 1.4
              - name: "anstehendes Gelände in Meter über NHN im amtlichen Höhenbezugssystem DHHN2016 als unterer Höhenbezugspunkt"
                type: empty
                blockSymbol: "Contours"
                blockSymbolScale: 1.4
              - name: "Bemaßung in Meter"
                type: empty
                blockSymbol: "Bemassung2"
          - name: "Nachrichtliche Übernahme"
            updateDxf: true
            items:
              - name: "gesetzlich geschützes Biotop § 9 Abs. 6 BauGB i. V. m. § 20 NatSchAG - MV"
                type: area
                rectangleStyle: gesGeschuetzesBiotop
                blockSymbol: "Gesetzlich geschütztes Biotop"
                blockSymbolScale: 1.8
              - name: "Wald"
                type: area
                style: wald
                applyHatch: true
    pathArrays:
      - name: "Schutzflächeumgrenzung T-Symbol Array"
        updateDxf: true
        sourceLayer: "Schutzflächeumgrenzung T-Symbol Temp"
        block: "T-Symbol"
        spacing: 7
        scale: 0.6
        bufferDistance: 0.6
      - name: "Schutzflächeumgrenzung T-Small Array"
        sourceLayer: "Schutzflächeumgrenzung T-Small Temp"
        block: "T-Small"
        spacing: 2
        scale: 0.6
        bufferDistance: 0.6
        adjustForVertices: true
        # showDebugVisual: true
    blockInserts:
    - name: "SO EBS Label"
      updateDxf: true
      blockName: "Sonstiges Sondergebiet EBS"
      scale: 6.0
      rotation: 0
      sourceLayer: "Baufeld Label Points"
      # position:
      #   type: "centroid"  # Options: centroid, center, random
      #   offset:
      #     x: 0
      #     y: 0
    - name: "GRZ Label"
      updateDxf: true
      blockName: "GRZ"
      scale: 4.0
      rotation: 0
      sourceLayer: "Baufeld Label Points"
      offset:
        x: 0
        y: -20
      # position:
      #   type: "centroid"  # Options: centroid, center, random
      #   offset:
      #     x: 0
      #     y: -20
    - name: "Bäume Ausserhalb"
      updateDxf: true
      blockName: "Baum"
      sourceLayer: "Baum Points"
    - name: "Gesetzlich geschütztes Biotop Symbol"
      updateDxf: true
      blockName: "Gesetzlich geschütztes Biotop"
      sourceLayer: Geschütze Biotope 2
      position:
        type: "centroid"
    textInserts:
      - name: "Main Title NW"
        targetLayer: "Plantext"
        updateDxf: true
        paperspace: true  # Add this to place text in paper space
        text: "Entwurf: Vorhabensbezogener Bebauungsplan Nr. 3 „Solarpark Friedrichshof“
der Gemeinde Klein Belitz"
        position:
          type: "absolute"
          x: 1650
          y: 856
        style: "mainTitle"  # Style can include width for text wrapping
      - name: "Map Header NW"
        targetLayer: "Plantext"
        updateDxf: true
        paperspace: true  # Add this to place text in paper space
        text: "Teil A: Planzeichnung i. M. 1:2.000"
        position:
          type: "absolute"
          x: 1650
          y: 808
        style: "mapheader"  # Style can include width for text wrapping
      - name: "Satzungs NW"
        targetLayer: "Plantext"
        updateDxf: true
        paperspace: true  # Add this to place text in paper space
        justification: "CENTER" 
        text: "VORENTWURF
SATZUNG DER GEMEINDE GROß PLASTEN
ÜBER DEN BEBAUUNGSPLAN NR: 6
„Solarpark am Devener Weg“"
        position:
          type: "absolute"
          x: 2399
          y: 266
        style: "mapheader"  # Style can include width for text wrapping
    # Note: Biewports don't get replaced even if updateDxf is true, only their properties get udpated (no the dimensions)
    viewports:
    - name: MainView
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 65
        y: 914
      height: 368
      width: 535
      viewCenter:
        x: 356092
        y: 5935489
      customScale: 0.5
      frozenLayers:
        - Geltungsbereich Hatches
        - WMTS Basemap
      # lockZoom: true
    - name: MainView2
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 65
        y: -776.5
      height: 653
      width: 720
      viewCenter:
        x: 358163
        y: 5935966
      customScale: 0.5
      frozenLayers:
        - Geltungsbereich Hatches
        - WMTS Basemap
      # lockZoom: true
    - name: MainView3
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 1780
        y: -776.5
      height: 653
      width: 720
      viewCenter:
        x: 357645
        y: 5932178
      customScale: 0.5
      frozenLayers:
        - Geltungsbereich Hatches
        - WMTS Basemap
      # lockZoom: true
    - name: LegendView
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 817
        y: 842
      height: 700
      width: 180
      viewTopLeft:
        x: 367838
        y: 5942625
      frozenLayers:
        - WMTS Basemap
      # scale: 2
      # customScale: 0.5
      lockZoom: true
    - name: Übersichtskarte
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 705
        y: 686
      height: 366
      width: 181
      viewCenter:
        x: 357129
        y: 5934148
      customScale: 0.05
      visibleLayers:
        - Geltungsbereich NW
        - Geltungsbereich NO
        - Geltungsbereich S
        - Geltungsbereich Hatches
        - WMTS Basemap
      # lockZoom: true
    - name: WorkView
      updateDxf: true
      color: "magenta"
      center:
        x: 780
        y: 2000
      height: 653
      width: 720
      viewCenter:
        x: 356027
        y: 5935564
      frozenLayers:
        - WMTS Basemap
        - Geltungsbereich Hatches
    - name: WorkView2
      updateDxf: true
      color: "magenta"
      center:
        x: 1780
        y: 2000
      height: 653
      width: 720
      viewCenter:
        x: 356027
        y: 5935564
      frozenLayers:
        - WMTS Basemap
        - Geltungsbereich Hatches
    - name: MapViewportNW
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 1651
        y: 790
      height: 630
      width: 720
      viewCenter:
        x: 356092
        y: 5935489
      # customScale: 0.5
      scale: 1.25
      frozenLayers:
        - Geltungsbereich Hatches
        - WMTS Basemap
      # lockZoom: true
    - name: LegendViewportNW
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 2396
        y: 857
      height: 432
      width: 180
      viewTopLeft:
        x: 368330
        y: 5942622
      frozenLayers:
        - WMTS Basemap
      # scale: 2
      # customScale: 0.5
      lockZoom: true
    # reports:
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordwesten in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich NW
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_nw_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordosten in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich NO
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_no_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Süden in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich S
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_s_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    geomLayers:
      - name: Baufeld
        updateDxf: true
        close: true
        viewports:
          - name: WorkView
            style: baufeld
        operations:
          - type: copy
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
          - type: difference
            # useBufferTrick: true
            reverseDifference: false
            operations:
              - type: dissolve
                layers:
                  - Ausgleichsfläche Gesamt
                  - Biotope
                  - Biotoppuffer
          - type: filterGeometry
            minArea: 200
            geometryTypes:
              - Polygon
      - name: Baufeld Label Points
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/baufeld_label_points.shp"
      - name: Baum Points
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/baum_points.shp"
      - name: Flur
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/flur.shp"
        label: flurname
        linetypeScale: 0.2
        linetypeGeneration: true
        style: flur
        style: flurgrenze
        viewports:
          - name: WorkView
            style: flurWorkView
      - name: Parcel
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/parcel.shp"
        label: label
        style: parcel
        viewports:
          - name: WorkView
            style: parcelWorkView
      - name: Gemarkung
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemarkung.shp"
        label: gmkname
        linetypeGeneration: true
        style: gemarkungsgrenze
        viewports:
          - name: WorkView
            style: gemarkungWorkView
      - name: Gemeinde
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemeinde.shp"
        label: gen
        # linetypeScale: 0.2
        linetypeGeneration: true
        style: gemeindegrenze
        viewports:
          - name: WorkView
            style: gemeindeWorkView
      - name: Grünfläche Input 
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/grünfläche_input_2.shp"
      - name: Wald
        updateDxf: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/wald.shp"
        close: true
        operations:
          - type: dissolve
        viewports:
          - name: WorkView
            style: wald
      - name: Wald Schraffur
        updateDxf: true
        style: wald
        applyHatch:
          layers:
            - Wald
      - name: Biotope Input
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/biotope.shp"
      - name: Exclude
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/exclude.shp"
      # - name: Exclude Acad
      #   updateDxf: false
      #   dxfLayer: "Exclude Acad"
      - name: Baumabstand Puffer
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/baum_abstand.shp"
        operations:
          - type: buffer
            distance: 5
      - name: Geschütze Biotope
        # updateDxf: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gesch_biotope.shp"
      - name: Geschütze Biotope 2
        updateDxf: true
        # linetypeScale: 0.2
        linetypeGeneration: true
        style: gesGeschuetzesBiotop
        operations:
          - type: buffer
            layers:
              - Geschütze Biotope
            distance: 0.5
      - name: FG Buffer
        operations:
          - type: buffer
            distance: 5
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/FG.shp"
      - name: Geltungsbereich NW
        updateDxf: true
        style: geltungsbereich
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "1"
                  - "2"
                  - "4"
                  - "6"
                  - "7"
                  - "14"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/geltungsbereich_nw_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
          - type: dissolve
      - name: Geltungsbereich NW 2
        updateDxf: true
        linetypeScale: 1
        style: geltungsbereich_2
        operations:
          - type: buffer
            layers:
              - name: Geltungsbereich NW
            distance: 2
      - name: Geltungsbereich Hatches
        updateDxf: true
        style: geltungsbereichHatches
        applyHatch:
          layers:
            - Geltungsbereich NW
            - Geltungsbereich NO
            - Geltungsbereich S
      - name: Geltungsbereich NO
        updateDxf: true
        style: geltungsbereich
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "24/8"
                  - "24/9"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            useBufferTrick: true
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/geltungsbereich_no_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
          - type: dissolve
      - name: Geltungsbereich NO 2
        updateDxf: true
        linetypeScale: 1
        style: geltungsbereich_2
        operations:
          - type: buffer
            layers:
              - name: Geltungsbereich NO
            distance: 2
      - name: Geltungsbereich S
        updateDxf: true
        style: geltungsbereich
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "41/1"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 2"
              - name: Gemarkung
                values:
                  - "Klein Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/geltungsbereich_s_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
          - type: dissolve
      - name: Geltungsbereich S 2
        updateDxf: true
        linetypeScale: 1
        style: geltungsbereich_2
        operations:
          - type: buffer
            layers:
              - name: Geltungsbereich S
            distance: 2
      - name: Waldabstand
        operations:
          - type: buffer
            joinStyle: mitre
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
          - type: filterGeometry
            minArea: 200
      - name: Biotope
        viewports:
          - name: WorkView
            style: biotopWorkView
        operations:
          - type: dissolve
            layers:
              - Biotope Input
              - Geschütze Biotope
      - name: Biotope Ausserhalb Geltungsbereich
        updateDxf: true
        operations:
          - type: copy
            layers:
              - Biotope
          - type: difference
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
      - name: Biotope Innerhalb Geltungsbereich
        operations:
          - type: copy
            layers:
              - Biotope
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
      - name: Biotope Innerhalb Geltungsbereich Grünfläche
        updateDxf: true
        operations:
          - type: copy
            layers:
              - Biotope Innerhalb Geltungsbereich
          - type: buffer
            distance: -3
      - name: Biotope Innerhalb Geltungsbereich Schutzfläche
        updateDxf: true
        operations:
          - type: copy
            layers:
              - Biotope Innerhalb Geltungsbereich
          - type: difference
            layers:
              - Biotope Innerhalb Geltungsbereich Grünfläche
      - name: Biotope Innerhalb Geltungsbereich Grünfläche Schraffur
        updateDxf: true
        style: grünfläche
        applyHatch:
          layers:
            - Biotope Innerhalb Geltungsbereich Grünfläche
      - name: Biotope Innerhalb Geltungsbereich Schutzfläche Schraffur
        updateDxf: true
        style: schutzflächeumgrenzung
        applyHatch:
          layers:
            - Biotope Innerhalb Geltungsbereich Schutzfläche
      - name: Biotop Report NW
        operations:
          - type: copy
            layers:
              - Biotope Innerhalb Geltungsbereich
          - type: intersection
            layers:
              - Geltungsbereich NW
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/biotop_report_nw.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Biotop Report S
        operations:
          - type: copy
            layers:
              - Biotope Innerhalb Geltungsbereich
          - type: intersection
            layers:
              - Geltungsbereich S
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/biotop_report_s.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Ausgleichsfläche Gesamt
        viewports:
          - name: WorkView
            style: grünflächeWorkView
        operations:
          - type: copy
            layers:
              - Grünfläche Input 
              - Waldabstand
              - Baumabstand Puffer
              - FG Buffer
              # - Biotoppuffer
              # - Biotope
          - type: dissolve
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
      - name: Ausgleichsfläche Report NW
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
          - type: intersection
            layers:
              - Geltungsbereich NW
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/grünfläche_schutzfläche_report_nw.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Ausgleichsfläche Report NO
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
          - type: intersection
            layers:
              - Geltungsbereich NO
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/grünfläche_schutzfläche_report_no.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Ausgleichsfläche Report S
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
          - type: intersection
            layers:
              - Geltungsbereich S
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/grünfläche_schutzfläche_report_s.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Ausgleich Grünfläche
        updateDxf: true
        viewports:
          - name: WorkView
            style: grünflächeWorkView
        operations:
          - type: buffer
            layers:
              - Ausgleichsfläche Gesamt
            distance: -3
        # bluntAngles:
        #   angleThreshold: 25  # Angles smaller than this will be blunted
        #   distance: 10.0  # Distance to move the vertex along the angle bisector
      - name: Ausgleich Grünfläche Schraffur
        updateDxf: true
        style: grünfläche
        applyHatch:
          layers:
            - Ausgleich Grünfläche
      - name: Ausgleich Schutzflächeumgrenzung
        updateDxf: true
        viewports:
          - name: WorkView
            style: schutzflächeWorkView
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
          - type: difference
            layers:
              - Ausgleich Grünfläche
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
          # - type: filterGeometry
          #   minArea: 200
      - name: Biotoppuffer
        updateDxf: true
        viewports:
          - name: WorkView
            style:
              color: "brilliant-green"
              linetype: "ACAD_ISO02W100"
        operations:
          - type: buffer
            layers:
              - Biotope
            distance: 10
          - type: difference
            operations:
              - type: dissolve
                layers:
                  - Biotope
                  - Ausgleichsfläche Gesamt
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
      - name: Biotoppuffer Schraffur
        updateDxf: true
        style: grünfläche
        applyHatch:
          layers:
            - Biotoppuffer
      - name: Biotoppuffer Report NW
        operations:
          - type: copy
            layers:
              - Biotoppuffer
          - type: intersection
            layers:
              - Geltungsbereich NW
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/biotoppuffer_report_nw.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Biotoppuffer Report S
        operations:
          - type: copy
            layers:
              - Biotoppuffer
          - type: intersection
            layers:
              - Geltungsbereich S
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/biotoppuffer_report_s.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Schutzflächeumgrenzung T-Symbol Temp
        # updateDxf: true
        close: false
        plot: false
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
              - Biotope Innerhalb Geltungsbereich
          - type: dissolve
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
          - type: filterGeometry
            minArea: 200
      # # - name: Schutzflächeumgrenzung T-Small Temp
      # #   # updateDxf: true
      # #   close: false
      # #   plot: false
      # #   operations:
      # #     - type: copy
      # #       layers:
      # #         - Grünfläche
      # #         - Schutzflächeumgrenzung
      # #     - type: dissolve
      # #     - type: intersection
      # #       layers:
      # #         - Geltungsbereich NW
      # #         - Geltungsbereich NO
      # #         - Geltungsbereich S
      # #     - type: filterGeometry
      # #       maxArea: 200
      # #       minArea: 10
      - name: Schutzflächeumgrenzung Schraffur
        updateDxf: true
        style: schutzflächeumgrenzung
        applyHatch:
          layers:
            - Ausgleich Schutzflächeumgrenzung
      - name: Baufeld Negative
        operations:
          - type: copy
            layers:
              - Ausgleichsfläche Gesamt
              - Biotope
              - Biotoppuffer
          - type: dissolve
      # - name: Baufeld
      #   updateDxf: true
      #   close: true
      #   viewports:
      #     - name: WorkView
      #       style: baufeld
      #   operations:
      #     - type: copy
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #     - type: difference
      #       # useBufferTrick: true
      #       reverseDifference: false
      #       operations:
      #         - type: dissolve
      #           layers:
      #             - Ausgleichsfläche Gesamt
      #             - Biotope
      #             - Biotoppuffer
      #     - type: filterGeometry
      #       minArea: 200
      #       geometryTypes:
      #         - Polygon
      - name: Baufeld Schraffur
        updateDxf: true
        style: baufeld
        applyHatch:
          layers:
            - Baufeld
      - name: Baugrenze 2
        updateDxf: true
        style: baugrenze_2
        close: true
        operations:
          - type: buffer
            layers:
              - Baugrenze
            distance: -0.4
      - name: Baugrenze
        updateDxf: true
        style: baugrenze
        linetypeScale: 0.5
        linetypeGeneration: true
        close: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
      - name: Baugrenze Report NW
        operations:
          - type: copy
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich NW
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baugrenze_nw_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Baugrenze Report NO
        operations:
          - type: copy
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich NO
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baugrenze_no_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Baugrenze Report S
        operations:
          - type: copy
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich S
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baugrenze_s_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Baufeldstreifen Report NW
        operations:
          - type: copy
            layers:
              - Baufeld
          - type: difference
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich NW
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baufeldstreifen_nw_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Baufeldstreifen Report NO
        operations:
          - type: copy
            layers:
              - Baufeld
          - type: difference
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich NO
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baufeldstreifen_no_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      - name: Baufeldstreifen Report S
        operations:
          - type: copy
            layers:
              - Baufeld
          - type: difference
            layers:
              - Baugrenze
          - type: intersection
            layers:
              - Geltungsbereich S
          - type: report
            outputFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/reports/baufeldstreifen_s_report.json"
            calculate:
              - area
              - perimeter
              - centroid
              - bounds
            decimalPlaces:
              area: 0
      # #     - type: wmts
      # #       url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
      # #       layer: "mv_dop"
      # #       # zoom: "10"
      # #       proj: "ETRS89UTM33"
      # #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/DOP"
      # #       layers:
      # #         - Geltungsbereich NW
      # #         - Geltungsbereich NO
      # #         - Geltungsbereich S
      # #       buffer: 200
      # #       stitchTiles: true
      # #       # overwrite: true
      - name: WMTS Basemap
        # updateDxf: true
        operations:
          - type: wmts
            url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
            layer: "de_basemapde_web_raster_farbe"
            zoom: "10"
            proj: "DE_EPSG_25833_ADV"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Basemap"
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
            buffer: 2000
            stitchTiles: true
      - name: Contour
      # #   updateDxf: true
      # #   style:
      # #     color: white
      # #     locked: false
      # #   label: elevation
      # #   operations:
      # #     - type: contour
      # #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      # #       layers:
      # #         - Geltungsbereich NW
      # #       buffer: 1000
      # # - name: WMS Gebäude
      # #   # updateDxf: true
      # #   operations:
      # #     - type: wms
      # #       # overwrite: true
      # #       url: "https://www.geodaten-mv.de/dienste/gebaeude_wms"
      # #       layer: "gebaeude"
      # #       imageTransparency: true
      # #       wmsOptions:
      # #         srs: "EPSG:25833"
      # #         format: "image/png"
      # #         # styles: ""  # Optional WMS style
      # #         # version: "1.3.0"  # WMS version
      # #         # transparent: true
      # #         # bgcolor: "0x0000FF" # Doesn't work somehow. It's black always.
      # #       width: 4096
      # #       height: 4096
      # #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Gebäude"
      # #       layers:
      # #         - Geltungsbereich NW
      # #         - Geltungsbereich NO
      # #         - Geltungsbereich S
      # #       buffer: 500
      # #       postProcess:
      # #         retainIfColorPresent:
      # #           colors: ["#ff0000"]  # Images containing these colors will be made transparent
      # #           tolerance: 5  # Optional: color matching tolerance (0-255)
                
      # #         colorMap:
      # #             "#ff0000": "#808080"  # Map red to grey
      # #         alphaColor: "#ffffff"  # Set white to fully transparent
      # #       #   alphaColor: "#000000"  # Set black to fully transparent
      # #       #   # tolerance: 30  # Increased tolerance to catch similar shades
      # #         grayscale: true
      # #       #   # removeText: true
      # #       stitchTiles: true
  - name: Torgelow
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/Zeichnung/Torgelow.dxf"
    # dxfDumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/dxf_dump"
    shapefileOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated"
    legend:
      title: "Planzeichen"
      subtitle: "(gem. PlanzV 1990-PlanzV 90 v.18.12.1990)"
      max_width: 160
      title_spacing: 0      # Space after the main legend title
      subtitle_spacing: 4   # Space after the main subtitle
      group_spacing: 3      # Space between different groups in the legend
      group_title_spacing: 2 # Space after each group's title
      group_subtitle_spacing: 3 # Space after each group's subtitle
      item_spacing: 4       # Space between individual items within a group
      position:
        x: 357774
        y: 5941939
      titleTextStyle:
        height: 8
        color: "red-dusky"
        text_style: "Arial"
        # rotation: 45
        # attachment_point: MTEXT_MIDDLE_CENTER
        # flow_direction: MTEXT_LEFT_TO_RIGHT
        # line_spacing_style: MTEXT_AT_LEAST
        # line_spacing_factor: 1.5
        # bg_fill: 1
        # bg_fill_color: 'yellow'
        # bg_fill_scale: 1.2
        # underline: True
        # overline: False
        # strike_through: False
        # oblique_angle: 15
      titleSubtitleStyle:
        height: 3.5
        color: "red-dusky"
        text_style: "Arial"
      groupTextStyle:
        color: "white"
        height: 5
        text_style: "Arial"
      subtitleTextStyle:
        color: "white"
        height: 2.5
        text_style: "Arial"
      itemTextStyle:
        color: "white"
        height: 3
        text_style: "Arial"
        attachment_point: MTEXT_MIDDLE_LEFT
      groups:
        - name: "Art der baulichen Nutzung"
          updateDxf: true
          subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
          items:
            - name: "Sonstiges Sondergebiet (§ 11 Abs. 2 BauNVO) Zweckbestimmung: Energiegewinnung auf der Basis solarer Strahlungsenergie"
              type: area
              applyHatch: true
              style: baufeldLegend
              blockSymbol: "Sonstiges Sondergebiet EBS"
              blockSymbolScale: 2
        - name: "Maß der baulichen Nutzung"
          updateDxf: true
          subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
          items:
            - name: "Grundflächenzahl"
              type: empty
              blockSymbol: "GRZ"
              blockSymbolScale: 2
        - name: "Bauweise, Baulinien, Baugrenzen"
          updateDxf: true
          subtitle: "§ 9 Abs. 1 Nr. 2 BauGB"
          items:
            - name: "Baugrenze"
              type: empty
              blockSymbol: "Baugrenze"   
        - name: "Verkehrsflächen"
          updateDxf: true
          subtitle: "(§ 9 Abs. 1 Nr. 11 und Abs. 6 BauGB)"
          items:
            - name: "Verkehrsfläche besonderer Zweckbestimmung"
              type: area
              applyHatch: true
              style: verkehrsfläche
            - name: "Verkehrsberuhigter Bereich"
              type: empty
              blockSymbol: "Verkehrsberuhigter Bereich"
              blockSymbolScale: 2
            - name: "Privat"
              type: empty
              blockSymbol: "Privat"
              blockSymbolScale: 2
        - name: "Grünflächen"
          updateDxf: true
          subtitle: "§ 9 Abs.1 Nr. 15 BauGB"
          items:
            - name: "Private Grünflächen"
              type: area
              style: grünflächeLegend
              applyHatch: true
        - name: "Wasserflächen und Flächen für die Wasserwirtschaft, den Hochwasserschutz und die Regelung des Wasserabflusses"
          updateDxf: true
          subtitle: "§ 9 Abs. 1 Nr. 16 BauBG"
          items:
            - name: "Wasserflächen"
              type: area
              style: waterLegend
              applyHatch: true
        - name: "Planungen, Nutzungsregelungen, Maßnahmen und Flächen für Maßnahmen zum Schutz, zur Pflege und zur Entwicklung von Natur und Landschaft"
          updateDxf: true
          subtitle: "§ 9 Abs.1 Nr. 20 BauGB"
          items:
            - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
              type: empty
              blockSymbol: "Schutzflächeumgrenzung"
            # - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
            #   type: empty
            #   blockSymbol: "Schutzflächeumgrenzung Small"
            #   blockSymbolScale: 1.8
        - name: "Sonstige Planzeichen"
          updateDxf: true
          items:
            - name: "Grenze des räumlichen Geltungsbereiches des Bebauungsplans"
              subtitle: "(§ 9 Abs. 7 BauGB)"
              type: area
              rectangleStyle: geltungsbereich_2
            - name: "Hauptversorgungs- und Hauptabwasserleitungen unterirdisch"
              subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
              type: area
              blockSymbol: "Leitung oberirdisch"
              blockSymbolScale: 2
            - name: "Hauptversorgungs- und Hauptabwasserleitungen oberirdisch"
              subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
              type: area
              blockSymbol: "Leitung unterirdisch"
              blockSymbolScale: 2
            - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
              subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
              type: area
              rectangleStyle: gfl1
              blockSymbol: "GFL1"
              blockSymbolScale: 2
            - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
              subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
              type: empty
              blockSymbol: "GFL2"
              blockSymbolScale: 1.6
        - name: "Darstellung ohne Normcharakter"
          updateDxf: true
          items:
            - name: "Gemeindegrenze"
              type: diagonal_line
              style: gemeindegrenze
            - name: "Gemarkungsgrenze"
              type: line
              style: gemarkungsgrenze
            - name: "Flurgrenze"
              type: line
              style: flurgrenze
            - name: "Flurstücksnummer\nFlurstücksgrenze"
              type: empty
              blockSymbol: "Parcel"
              blockSymbolScale: 1.4
            - name: "anstehendes Gelände in Meter über NHN im amtlichen Höhenbezugssystem DHHN2016 als unterer Höhenbezugspunkt"
              type: empty
              blockSymbol: "Contours"
              blockSymbolScale: 1.4
            - name: "Bemaßung in Meter"
              type: empty
              blockSymbol: "Bemassung2"
        - name: "Nachrichtliche Übernahme"
          updateDxf: true
          items:
            - name: "gesetzlich geschützes Biotop § 9 Abs. 6 BauGB i. V. m. § 20 NatSchAG - MV"
              type: area
              rectangleStyle: gesGeschuetzesBiotop
              blockSymbol: "Gesetzlich geschütztes Biotop"
              blockSymbolScale: 1.8
            - name: "Wald"
              type: area
              style: wald
              applyHatch: true
            - name: "Baum"
              type: empty
              blockSymbol: "Baum"
              blockSymbolScale: 1.8
            - name: "Baum erhalten"
              type: empty
              blockSymbol: "Baum erhalten"
              blockSymbolScale: 1.8
            - name: "Abgrenzung unterschiedlicher Nutzung, z. B. von Baugebieten, oder Abgrenzung des Maßes der Nutzung innerhalb eines Baugebiets z.B. § 1 Abs. 4 § 16 Abs. 5 BauNVO)"
              type: empty
              blockSymbol: "Abgrenzung unterschiedlicher Nutzung"
              blockSymbolScale: 1.4
    blockInserts:
    - name: "SO EBS Label"
      updateDxf: true
      targetLayer: "Baufeld"
      blockName: "Sonstiges Sondergebiet EBS"
      scale: 6.0
      rotation: 0
      position:
        type: "centroid"  # Options: centroid, center, random
        offset:
          x: 0
          y: 0
    - name: "GRZ Label"
      updateDxf: true
      targetLayer: "Baufeld"
      blockName: "GRZ"
      scale: 4.0
      rotation: 0
      position:
        type: "centroid"  # Options: centroid, center, random
        offset:
          x: 0
          y: -20
    textInserts:
      - name: "Main Title"
        updateDxf: true
        targetLayer: "Plantext"
        paperspace: true  # Add this to place text in paper space
        text: "Entwurf: Vorhabensbezogener Bebauungsplan Nr. 3 „Solarpark Friedrichshof“
der Gemeinde Klein Belitz"
        position:
          x: 66
          y: 840
        style: "mainTitle"  # Style can include width for text wrapping      
    viewports:
    - name: MainView
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 65
        y: 776.5
      width: 720
      height: 653
      viewCenter:
        x: 351016
        y: 5936541
      customScale: 0.5
      lockZoom: true
    - name: LegendView
      updateDxf: true
      color: "magenta"
      topLeft:
        x: 817
        y: 842
      width: 180
      height: 700
      viewTopLeft:
        x: 357774
        y: 5941939
      # scale: 2
      # customScale: 0.5
      lockZoom: true
    - name: WorkView
      updateDxf: true
      color: "magenta"
      center:
        x: 780
        y: 2000
      width: 720
      height: 653
      viewCenter:
        x: 356027
        y: 5935564
    pathArrays:
      - name: "Schutzflächeumgrenzung T-Symbol Array"
        updateDxf: true
        sourceLayer: "Schutzflächeumgrenzung T-Symbol Temp"
        block: "T-Symbol"
        spacing: 7
        scale: 0.6
        bufferDistance: 0.6
    geomLayers:
      - name: Flur
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/flur2.shp"
        label: flurname
        linetypeGeneration: true
        style: flur
        style: flurgrenze
        viewports:
          - name: WorkView
            style: flurWorkView
      - name: Parcel
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/parcel2.shp"
        label: label
        style: parcel
        viewports:
          - name: WorkView
            style: parcelWorkView
      - name: Gemarkung
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/gemarkung2.shp"
        label: gmkname
        linetypeGeneration: true
        style: gemarkungsgrenze
        viewports:
          - name: WorkView
            style: gemarkungWorkView
      - name: Gemeinde
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/gemeinde2.shp"
        label: gen
        linetypeGeneration: true
        style: gemeindegrenze
        viewports:
          - name: WorkView
            style: gemeindeWorkView
      - name: Wald
        updateDxf: true
        close: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/wald.shp"
        close: true
        operations:
          - type: dissolve
        viewports:
          - name: WorkView
            style: wald
      - name: Wald Schraffur
        updateDxf: true
        style: wald
        applyHatch:
          layers:
            - Wald
      - name: Straße
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/abstand.shp"
      - name: Straße Abstand
        operations:
          - type: buffer
            layers: 
              - Straße
            distance: 7
      - name: Weg
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/weg.shp"
      - name: Weg Abstand
        operations:
          # - type: buffer
          #   layers:
          #     - Weg
          #   distance: 1
          - type: copy
            layers:
              - Weg
      - name: Geltungsbereich
        updateDxf: true
        style: geltungsbereich
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "81"
                  - "87/1"
                  - "89"
                  - "95"
                  - "96"
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  - "103"
                  - "104"
          - type: filter
            layers:
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
          - type: difference
            layers:
              - Wald
              - Straße Abstand
              - Weg Abstand
          - type: filterGeometry
            minArea: 10
      - name: Waldabstand
        operations:
          - type: buffer
            joinStyle: mitre
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich
          - type: filterGeometry
            minArea: 200
      - name: Grünflächeinput 1
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/input/grünfläche.shp"
      - name: Grünflächeinput 2
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102" 
          - type: filter
            layers:
              # - name: Parcel
              #   values:
              #     - "97"
              #     - "99"
              #     - "100"
              #     - "101"
              #     - "102"
              #     # - "103"
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
      - name: Grünfläche
        updateDxf: true
        style: grünfläche
        operations:
          - type: dissolve
            useBufferTrick: true
            bufferDistance: 0.01
            # doubleUnion: true
            useAsymmetricBuffer: true
            # useSnapToGrid: true
            # mergeVertices: true
            # mergeVerticesTolerance: 20
            layers:
              - Grünflächeinput 1
              - Grünflächeinput 2
              - Waldabstand
          - type: difference
            reverseDifference: false
            layers:
              - Weg Abstand
          - type: intersection
            layers:
              - Geltungsbereich
          - type: buffer
            distance: -3
      - name: Grünfläche Schraffur
        updateDxf: true
        style: grünfläche
        applyHatch:
          layers:
            - Grünfläche
      - name: Schutzflächeumgrenzung
        updateDxf: true
        viewports:
          - name: WorkView
            style: schutzflächeWorkView
        operations:
          - type: copy
            layers:
              - Grünflächeinput 1
              - Grünflächeinput 2
              - Waldabstand
          - type: dissolve
            useBufferTrick: true
            bufferDistance: 0.01
            # doubleUnion: true
            useAsymmetricBuffer: true
            # useSnapToGrid: true
            # mergeVertices: true
            # mergeVerticesTolerance: 20
          - type: difference
            reverseDifference: false
            layers:
              - Grünfläche
          - type: intersection
            layers:
              - Geltungsbereich
      - name: Schutzflächeumgrenzung Schraffur
        updateDxf: true
        style: schutzflächeumgrenzung
        applyHatch:
          layers:
            - Schutzflächeumgrenzung
      - name: Schutzflächeumgrenzung T-Symbol Temp
        # updateDxf: true
        close: false
        plot: false
        operations:
          - type: copy
            layers:
              - Grünfläche
              - Schutzflächeumgrenzung
          - type: dissolve
          - type: intersection
            layers:
              - Geltungsbereich
          - type: filterGeometry
            minArea: 200
      - name: Baufeld
        updateDxf: true
        close: true
        viewports:
          - name: WorkView
            style: baufeld
        operations:
          - type: copy
            layers:
              - Geltungsbereich
          - type: difference
            # useBufferTrick: true
            reverseDifference: false
            layers:
              - Schutzflächeumgrenzung
              - Grünfläche
          - type: filterGeometry
            minArea: 200
      - name: Baufeld Schraffur
        updateDxf: true
        style: baufeld
        applyHatch:
          layers:
            - Baufeld
      - name: Baugrenze 2
        updateDxf: true
        style: baugrenze_2
        close: true
        operations:
          - type: buffer
            layers:
              - Baugrenze
            distance: -0.4
      - name: Baugrenze
        updateDxf: true
        style: baugrenze
        linetypeScale: 0.5
        linetypeGeneration: true
        close: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
      - name: WMTS DOP
        # updateDxf: true
        style: 
          locked: true
          # color: "White"
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            # zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/DOP"
            layers:
              - Geltungsbereich
            buffer: 200
            stitchTiles: true
            # overwrite: true
      # - name: WMTS Basemap
      #   # updateDxf: true
      #   color: white
      #   locked: true
      #   add: true
      #   operations:
      #     - type: wmts
      #       url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
      #       layer: "de_basemapde_web_raster_farbe"
      #       zoom: "10"
      #       proj: "DE_EPSG_25833_ADV"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/Basemap"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 200
