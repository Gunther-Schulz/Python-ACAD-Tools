# add - only adds the layer if it does not exist in the dxf file
# update - updates the layer if it exists in the dxf file
# folderPrefix: "~/IONOS HiDrive"
folderPrefix: "~/hidrive"
projects:
  - name: Friedrichshof
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/24 09.25 Friedrichshof  Zeichnung -2.dxf"
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/test.dxf"
    dumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/dxf_dump"
    geomLayers:
      - name: Geltungsbereich
        update: false
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/geltungsbereich.shp"
      - name: WasserBodenVerband
        update: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Grundlagen/wasser_bodeverband/5LV11_PVA-Fhof.shp"
      - name: WBVGrünfläche
        update: false
        operations:
          - type: buffer
            layers:
              - WasserBodenVerband
            distance: 7
      - name: Externer Ausgleich
        update: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Lagefaktor_var1/compensatory/Ausgleich_Acker/Ausgleich.shp"
      # - name: Contour
      #   update: false
      #   style:
      #     color: Black
      #     locked: false
      #   update: false
      #   label: elevation
      #   operations:
      #     - type: contour
      #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 1000
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/generated/contour.shp"
      - name: WMS Gebäude
        update: true
        operations:
          - type: wms
            url: "https://www.geodaten-mv.de/dienste/gebaeude_wms"
            layer: "gebaeude"
            srs: "EPSG:25833"
            format: "image/png"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Gebäude"
            layers:
              - Geltungsbereich
            buffer: 600
            zoom: 18
            overwrite: true
            postProcess:
                colorMap:
                  "#ff0000": "#808080"  # Map red to grey
                alphaColor: "#ffffff"  # Set white to fully transparent
                # tolerance: 30  # Increased tolerance to catch similar shades
                grayscale: true
                # removeText: true
      # - name: WMS Höhenlinien
      #   update: true
      #   operations:
      #     - type: wms
      #       url: "https://www.geodaten-mv.de/dienste/dgm_wms"
      #       layer: "hohenlinien"
      #       srs: "EPSG:25833"
      #       format: "image/png"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Höhenlinien"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 600
      #       zoom: 0 # Zoom doesnt work (only for this layer?)
      #       overwrite: true
      #       postProcess:
      #         alphaColor: "#ffffff"  # Set white to fully transparent
      #         removeText: true
  - name: Plasten
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/Plasten4.dxf"
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/dev/test.dxf"
    dumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten//GIS/dxf_dump"
    # legend:
    #   title: "Planzeichen"
    #   subtitle: "(gem. PlanzV 1990-PlanzV 90 v.18.12.1990)"
    #   max_width: 160
    #   title_spacing: 0      # Space after the main legend title
    #   subtitle_spacing: 4   # Space after the main subtitle
    #   group_spacing: 3      # Space between different groups in the legend
    #   group_title_spacing: 2 # Space after each group's title
    #   group_subtitle_spacing: 3 # Space after each group's subtitle
    #   item_spacing: 4       # Space between individual items within a group
    #   position:
    #     x: 367841
    #     y: 5942622
    #   titleTextStyle:
    #     height: 8
    #     color: "darkslategrey-20"
    #     text_style: "Arial"
    #     # rotation: 45
    #     # attachment_point: MTEXT_MIDDLE_CENTER
    #     # flow_direction: MTEXT_LEFT_TO_RIGHT
    #     # line_spacing_style: MTEXT_AT_LEAST
    #     # line_spacing_factor: 1.5
    #     # bg_fill: 1
    #     # bg_fill_color: 'yellow'
    #     # bg_fill_scale: 1.2
    #     # underline: True
    #     # overline: False
    #     # strike_through: False
    #     # oblique_angle: 15
    #   titleSubtitleStyle:
    #     height: 3.5
    #     color: "Dark Gray"
    #     text_style: "Arial"
    #   groupTextStyle:
    #     color: "Black"
    #     height: 5
    #     text_style: "Arial"
    #   subtitleTextStyle:
    #     color: "Black"
    #     height: 3.5
    #     text_style: "Arial"
    #   itemTextStyle:
    #     color: "Black"
    #     height: 3
    #     text_style: "Arial"
    #     attachment_point: MTEXT_MIDDLE_LEFT
    #   groups:
    #     - name: "Art der baulichen Nutzung"
    #       update: true
    #       subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
    #       items:
    #         - name: "Sonstiges Sondergebiet (§ 11 Abs. 2 BauNVO) Zweckbestimmung: Energiegewinnung auf der Basis solarer Strahlungsenergie"
    #           type: area
    #           create_hatch: true
    #           layerStyle: baufeldLayer
    #           block_symbol: "Sonstiges Sondergebiet EBS"
    #           block_symbol_scale: 2
    #     - name: "Maß der baulichen Nutzung"
    #       update: true
    #       subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
    #       items:
    #         - name: "Grundflächenzahl"
    #           type: empty
    #           block_symbol: "GRZ"
    #           block_symbol_scale: 2
    #     - name: "Bauweise, Baulinien, Baugrenzen"
    #       update: true
    #       subtitle: "§ 9 Abs. 1 Nr. 2 BauGB"
    #       items:
    #         - name: "Baugrenze"
    #           type: empty
    #           block_symbol: "Baugrenze"   
    #     - name: "Verkehrsflächen"
    #       update: true
    #       subtitle: "(§ 9 Abs. 1 Nr. 11 und Abs. 6 BauGB)"
    #       items:
    #         - name: "Verkehrsfläche besonderer Zweckbestimmung"
    #           type: area
    #           hatch_style: verkehrsflaeche
    #         - name: "Verkehrsberuhigter Bereich"
    #           type: empty
    #           block_symbol: "Verkehrsberuhigter Bereich"
    #           block_symbol_scale: 2
    #         - name: "Privat"
    #           type: empty
    #           block_symbol: "Privat"
    #           block_symbol_scale: 2
    #     - name: "Grünflächen"
    #       update: true
    #       subtitle: "§ 9 Abs.1 Nr. 15 BauGB"
    #       items:
    #         - name: "Private Grünflächen"
    #           type: area
    #           hatch_style: gruenflaeche
    #     - name: "Wasserflächen und Flächen für die Wasserwirtschaft, den Hochwasserschutz und die Regelung des Wasserabflusses"
    #       update: true
    #       subtitle: "§ 9 Abs. 1 Nr. 16 BauBG"
    #       items:
    #         - name: "Wasserflächen"
    #           type: area
    #           hatch_style: water
    #     - name: "Planungen, Nutzungsregelungen, Maßnahmen und Flächen für Maßnahmen zum Schutz, zur Pflege und zur Entwicklung von Natur und Landschaft"
    #       update: true
    #       subtitle: "§ 9 Abs.1 Nr. 20 BauGB"
    #       items:
    #         - name: "Umgrenzung von Flächen für Maßnahmen zum Schutz, zur Pflege und zurEntwicklung von Natur und Landschaft"
    #           type: empty
    #     - name: "Sonstige Planzeichen"
    #       update: true
    #       items:
    #         - name: "Grenze des räumlichen Geltungsbereiches des Bebauungsplans"
    #           subtitle: "(§ 9 Abs. 7 BauGB)"
    #           type: area
    #           rectangle_style: geltungsbereich
    #           create_hatch: false
    #         - name: "Hauptversorgungs- und Hauptabwasserleitungen unterirdisch"
    #           subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
    #           type: area
    #           create_hatch: false
    #           block_symbol: "Leitung oberirdisch"
    #           block_symbol_scale: 2
    #         - name: "Hauptversorgungs- und Hauptabwasserleitungen oberirdisch"
    #           subtitle: "(§ 5 Abs. 2 Nr.4 und Abs. 4, § 9 Abs.1 Nr.1 u. Abs. 6)"
    #           type: area
    #           create_hatch: false
    #           block_symbol: "Leitung unterirdisch"
    #           block_symbol_scale: 2
    #         - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
    #           subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
    #           type: area
    #           create_hatch: false
    #           rectangle_style: gfl1
    #           block_symbol: "GFL1"
    #           block_symbol_scale: 2
    #         - name: "Mit Geh-, Fahr- und Leitungsrechten zu belastende Flächen"
    #           subtitle: "(§ 9 Abs.1 Nr.21 und Abs. 6 BauGB)"
    #           type: empty
    #           create_hatch: false
    #           block_symbol: "GFL2"
    #           block_symbol_scale: 1.6
    #     - name: "Darstellung ohne Normcharakter"
    #       update: true
    #       items:
    #         - name: "Gemeindegrenze"
    #           type: diagonal_line
    #           layerStyle: gemeindegrenze
    #         - name: "Gemarkungsgrenze"
    #           type: line
    #           layerStyle: gemarkungsgrenze
    #         - name: "Flurgrenze"
    #           type: line
    #           layerStyle: flurgrenze
    #         - name: "Flurstücksnummer\nFlurstücksgrenze"
    #           type: empty
    #           block_symbol: "Parcel"
    #           block_symbol_scale: 1.4
    #         - name: "anstehendes Gelände in Meter über NHN im amtlichen Höhenbezugssystem DHHN2016 als unterer Höhenbezugspunkt"
    #           type: empty
    #           block_symbol: "Contours"
    #           block_symbol_scale: 1.4
    #         - name: "Bemaßung in Meter"
    #           type: empty
    #           block_symbol: "Bemaßung"
    #     - name: "Nachrichtliche Übernahme"
    #       update: true
    #       items:
    #         - name: "gesetzlich geschützes Biotop § 9 Abs. 6 BauGB i. V. m. § 20 NatSchAG - MV"
    #           type: area
    #           create_hatch: false
    #           rectangleStyle: gesGeschuetzesBiotop
    #           block_symbol: "Gesetzlich geschütztes Biotop"
    #           block_symbol_scale: 1.8
    #         - name: "Wald"
    #           type: area
    #           hatch_style: waldSchraffur
    #         - name: "Baum"
    #           type: empty
    #           block_symbol: "Baum"
    #           block_symbol_scale: 1.8
    #         - name: "Baum erhalten"
    #           type: empty
    #           block_symbol: "Baum erhalten"
    #           block_symbol_scale: 1.8
    #         - name: "Abgrenzung unterschiedlicher Nutzung, z. B. von Baugebieten, oder Abgrenzung des Maßes der Nutzung innerhalb eines Baugebiets z.B. § 1 Abs. 4 § 16 Abs. 5 BauNVO)"
    #           type: empty
    #           block_symbol: "Abgrenzung unterschiedlicher Nutzung"
    #           block_symbol_scale: 1.4
    # pathArrays:
    #   - sourceLayer: "Biotope T-Symbol"
    #     targetLayer: "Biotope T-Symbol Array"
    #     block: "T-Symbol"
    #     spacing: 10
    #     # scale: 0.5
    #     # rotation: 90
    viewports:
      - name: MainView
        center: [425, 450]
        width: 720
        height: 653
        target_view:
          center: [1000, 1000]
          height: 500
      - name: WorkView
        center: [780, 2000]
        width: 720
        height: 653
        target_view:
          center: [1000, 1000]
          height: 500
    # reports:
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordwesten in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich NW
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_nw_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordosten in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich NO
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_no_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    #   - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Süden in Plasten
    #     type: area
    #     baseLayer: Parcel
    #     coverLayer: Geltungsbereich S
    #     output:
    #       format: csv
    #       file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_s_by_parcel"
    #     includeLabels: true
    #     includeTotalArea: true
    geomLayers:
      - name: Flur
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/flur.shp"
        label: flurname
        close: true
        linetypeScale: 0.2
        linetypeGeneration: true
        layerStyle: flur
        viewports:
          - name: WorkView
            layerStyle: flurWorkView
      - name: Parcel
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/parcel.shp"
        label: label
        close: true
        layerStyle: parcel
        viewports:
          - name: WorkView
            layerStyle: parcelWorkView
      - name: Gemarkung
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemarkung.shp"
        label: gmkname
        linetypeGeneration: true
        layerStyle: gemarkung
        viewports:
          - name: WorkView
            layerStyle: gemarkungWorkView
      - name: Gemeinde
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemeinde.shp"
        label: gen
        # linetypeScale: 0.2
        linetypeGeneration: true
        layerStyle: gemeinde
        viewports:
          - name: WorkView
            layerStyle: gemeindeWorkView
      - name: Grünfläche Input 
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/geltungsbereich_abstand.shp"
        close: true
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/grünfläche_input_1.shp"
      - name: Wald
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/wald.shp"
        close: true
        operations:
          - type: merge
        viewports:
          - name: WorkView
            layerStyle:
              color: "Dark Green"
      - name: Wald Schraffur
        update: true
        hatchStyle: waldHatch
        performHatch:
          layers:
            - Wald
      - name: Biotope Input
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/biotope.shp"
      - name: Exclude
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/exclude.shp"
      # - name: Exclude Acad
      #   update: false
      #   dxfLayer: "Exclude Acad"
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/exclude_acad.shp"
      - name: Baumabstand Puffer
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/baum_abstand.shp"
        operations:
          - type: buffer
            distance: 5
            # joinStyle: round
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baumabstand.shp"   
      - name: Geschütze Biotope
        update: true
        # linetypeScale: 0.2
        linetypeGeneration: true
        layerStyle: gesGeschuetzesBiotop
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gesch_biotope.shp"
      - name: FG Buffer
        operations:
          - type: buffer
            distance: 5
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/FG.shp"
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/fg_puffer.shp"
      - name: Geltungsbereich NW
        update: true
        layerStyle: 
          color: "red"
          plot: false
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "1"
                  - "2"
                  - "4"
                  - "6"
                  - "7"
                  - "14"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_1.shp"
      - name: Geltungsbereich NW 2
        update: true
        close: true
        linetypeScale: 1
        linetypeGeneration: true
        layerStyle: 
          color: "Dark Gray"
          linetype: ACAD_ISO02W100
          lineweight: 158
        operations:
          - type: buffer
            layers:
              - name: Geltungsbereich NW
            distance: 2
      - name: Geltungsbereich NO
        update: true
        layerStyle: 
          color: "Red"
          locked: false
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "24/8"
                  - "24/9"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
              # - Exclude Acad
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_2.shp"
      - name: Geltungsbereich S
        update: true
        layerStyle: 
          color: "Red"
          locked: false
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "41/1"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 2"
              - name: Gemarkung
                values:
                  - "Klein Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_3.shp"
      - name: Waldabstand
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/waldabstand.shp"
      - name: Biotope
        update: true
        viewports:
          - name: WorkView
            layerStyle: biotopWorkView
        operations:
          - type: merge
            layers:
              - Biotope Input
              - Geschütze Biotope
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/biotope.shp"
      # - name: Biotoppuffer
      #   update: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle:
      #         color: "brilliant-green"
      #         linetype: "ACAD_ISO02W100"
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Biotope
      #       distance: 10
      #     - type: difference
      #       layers:
      #         - Biotope
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      - name: Schutzflächeumgrenzung
        update: true
        viewports:
          - name: WorkView
            layerStyle: schutzflaecheWorkView
        operations:
          - type: buffer
            layers:
              - Biotope
            distance: -5
          - type: difference
            layers:
              - Biotope
          # - type: copy
          #   layers:
          #     - Biotope
          # - type: buffer
          #   distance: -5
          # - type: difference
          # - type: intersection
          #   layers:
          #     - Geltungsbereich NW
          #     - Geltungsbereich NO
          #     - Geltungsbereich S
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/schutzflaeche.shp"

      # - name: Ausgleich
      #   update: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle: ausgleichWorkView
      #   operations:
      #     - type: copy
      #       layers:
      #         - Grünfläche Input 
      #         - Waldabstand
      #         - Baumabstand Puffer
      #         - FG Buffer
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #   bluntAngles:
      #     angleThreshold: 25  # Angles smaller than this will be blunted
      #     distance: 10.0  # Distance to move the vertex along the angle bisector
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/ausgleich.shp"
      # - name: "Biotope T-Symbol"
      #   update: true
      #   close: true
      #   operations:
      #     - type: buffer
      #       distance: 5
      #       layers:
      #         - Biotope
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S              
      # - name: Ausgleich
      #   update: true
      #   close: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle: 
      #         color: "Dark Green"
      #   operations:
      #     - type: copy
      #       layers:
      #         - Grünfläche Input 
      #         - Waldabstand
      #         - Baumabstand Puffer
      #         - FG Buffer
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #   bluntAngles:
      #     angleThreshold: 25  # Angles smaller than this will be blunted
      #     distance: 10.0  # Distance to move the vertex along the angle bisector
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/ausgleich.shp"
      # - name: Ausgleich Schraffur
      #   update: true
      #   layerStyle: ausgleichLayer
      #   hatchStyle: ausgleichHatch
      #   performHatch: true
      #   operations:
      #     - type: copy
      #       layers:
      #         - Ausgleich
      #     - type: difference
      #       layers:
      #         - Grünfläche
      # - name: Grünfläche
      #   update: true
      #   close: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle: 
      #         color: "Light Green"
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Ausgleich
      #       distance: -5
      # - name: Grünfläche Schraffur
      #   update: true
      #   layerStyle: gruenflaecheLayer
      #   hatchStyle: gruenflaecheHatch
      #   performHatch:
      #       layers:
      #         - Grünfläche
      # - name: Baufeld
      #   update: true
      #   close: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle: 
      #         color: "Light Red"
      #   operations:
      #     - type: copy
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #     - type: difference
      #       layers:
      #         - Ausgleich
      #         - Baumabstand Puffer
      #         - Biotope
      #         - FG Buffer
      #     # - type: smooth
      #     #   strength: 1.5
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baufeld.shp"
      # - name: Baufeld Schraffur
      #   update: true
      #   layerStyle: baufeldLayer
      #   hatchStyle: baufeldHatch
      #   performHatch:
      #     layers:
      #       - Baufeld
      #     # individual_hatches: true
      #     # pattern: 'ANSI31'
      #     # scale: 50  # Adjust this value to change the hatch density
      #     # color: "Blue"  # ACI color index for Light Red
      # - name: Baugrenze 2
      #   update: true
      #   layerStyle: 
      #     color: "Green Blue"
      #     lineweight: 60
      #   close: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Baufeld
      #       distance: -3.4
      # - name: Baugrenze
      #   update: true
      #   layerStyle: 
      #     linetype: ACAD_ISO02W100
      #     lineweight: 60
      #   linetypeScale: 0.5
      #   linetypeGeneration: true
      #   close: true
      #   viewports:
      #     - name: WorkView
      #       layerStyle: 
      #         color: "Blue"
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Baufeld
      #       distance: -3
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baugrenze.shp"
      - name: WMTS DOP
        # update: true
        layerStyle: 
          locked: true
          # color: "White"
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            # zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/DOP"
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
            buffer: 200
            stitchTiles: true
            # overwrite: true
      # - name: WMTS Basemap
      #   update: true
      #   color: Black
      #   locked: true
      #   operations:
      #     - type: wmts
      #       url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
      #       layer: "de_basemapde_web_raster_farbe"
      #       zoom: "10"
      #       proj: "DE_EPSG_25833_ADV"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Basemap"
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #       buffer: 200
      # - name: Contour
      #   update: true
      #   style:
      #     color: Black
      #     locked: false
      #   label: elevation
      #   operations:
      #     - type: contour
      #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      #       layers:
      #         - Geltungsbereich NW
      #       buffer: 1000
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/contour.shp"
      # - name: WMS Gebäude
      #   update: true
      #   operations:
      #     - type: wms
      #       url: "https://www.geodaten-mv.de/dienste/gebaeude_wms"
      #       layer: "gebaeude"
      #       srs: "EPSG:25833"
      #       format: "image/png"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Gebäude"
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #       buffer: 100
      #       zoom: 10
      #       # overwrite: true
      #       postProcess:
      #           colorMap:
      #             "#ff0000": "#808080"  # Map red to grey
      #           alphaColor: "#ffffff"  # Set white to fully transparent
      #           # tolerance: 30  # Increased tolerance to catch similar shades
      #           grayscale: true
      #           # removeText: true
      #       stitchTiles: true
  - name: Torgelow
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/Zeichnung/torgelow.dxf"
    geomLayers:
      - name: Flur
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/flur2.shp"
        label: "flurname"
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: true
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Parcel
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/parcel2.shp"
        label: label
        color: White
        linetype: ACAD_ISO11W100
        lineweight: 30
        plot: true
        frozen: false
        is_on: true 
        vp_freeze: false
        # transparency: 0.0
        locked: true
        close: true
      - name: Gemarkung
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemarkung2.shp"
        label: gmkname
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Gemeinde
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemeinde2.shp"
        label: gen
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Wald
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/wald.shp"
        label: waldname
        color: Dark Green
        linetype: Continuous
        lineweight: 13
        plot: true
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
        close: true
      # - name: Biotope
      #   add: true
      #   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/biotope.shp"
      #   label: biotopn
      #   color: "Green"
      #   close: true
      #   locked: false
      - name: Straße
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/abstand.shp"
      # - name: Biotope Puffer
      #   color: "Light Green"
      #   close: true
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Biotope
      #       distance: 5
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich
      - name: Straße Abstand
        update: true # I think this is optional, if that layer does not already exists in the dxf file, but it cant hurt and makes sure that it updates
        operations:
          - type: buffer
            layers: 
              - Straße
            distance: 7
      # - name: Flur Offset
      #   update: true
      #   color: "Light Green"
      #   close: false
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Flur
      #       distance: 10
      - name: Weg
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/weg.shp"
      - name: Weg Abstand
        update: true
        operations:
          # - type: buffer
          #   layers:
          #     - Weg
          #   distance: 1
          - type: copy
            layers:
              - Weg
      - name: Geltungsbereich
        update: true
        color: "Red"
        locked: false
        close: false
        add: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "81"
                  - "87/1"
                  - "89"
                  - "95"
                  - "96"
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  - "103"
                  - "104"
          - type: filter
            layers:
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
          - type: difference
            layers:
              - Wald
              - Straße Abstand
              - Weg Abstand
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/geltungsbereich.shp"
      - name: Wald Abstand
        update: true
        color: "Light Green"
        close: true
        locked: false
        # add: true
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich
      - name: Grünflächeinput
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/grünfläche.shp"
      - name: Temp Grünfl
        update: true
        operations:
          - type: filter
            layers:
              - name: Parcel
                values:
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  # - "103"
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
      - name: Grünfläche
        update: true
        color: "Light Green"
        close: true
        locked: false
        add: true
        operations:
          - type: merge
            layers:
              - Grünflächeinput
              - Temp Grünfl
              - Wald Abstand
          - type: difference
            layers:
              - Weg Abstand
          - type: intersection
            layers:
              - Geltungsbereich
          - type: buffer
            distance: -5
            mode: keep # Keeps both the original geometries and the buffered ones
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/grünfläche.shp"
      - name: Baufeld
        update: true
        color: "Light Red"
        locked: false
        close: true
        textColor: "White"
        add: true
        operations:
          - type: copy
            layers:
              - Geltungsbereich
          # - type: difference
          #   layers:
          #     - Biotope
          #     - Wald Abstand
          #     - Grünfläche
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/baufeld.shp"
      - name: Baugrenze
        update: true
        color: "Blue"
        locked: false
        close: true
        add: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/baugrenze.shp"
      - name: WMTS DOP
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/DOP"
            layers:
              - Geltungsbereich
            buffer: 100
      - name: WMTS Basemap
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
            layer: "de_basemapde_web_raster_farbe"
            zoom: "10"
            proj: "DE_EPSG_25833_ADV"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/Basemap"
            layers:
              - Geltungsbereich
            buffer: 200
