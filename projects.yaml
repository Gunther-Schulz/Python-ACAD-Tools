# add - only adds the layer if it does not exist in the dxf file
# update - updates the layer if it exists in the dxf file
# folderPrefix: "~/IONOS HiDrive"
folderPrefix: "~/hidrive"
projects:
  - name: Friedrichshof
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/24 09.25 Friedrichshof  Zeichnung -2.dxf"
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Zeichnung/test.dxf"
    dumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/dxf_dump"
    geomLayers:
      - name: Geltungsbereich
        update: false
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/geltungsbereich.shp"
      - name: WasserBodenVerband
        update: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/Grundlagen/wasser_bodeverband/5LV11_PVA-Fhof.shp"
      - name: WBVGrünfläche
        update: false
        operations:
          - type: buffer
            layers:
              - WasserBodenVerband
            distance: 7
      - name: Externer Ausgleich
        update: false
        style:
          color: "Light Blue"
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Lagefaktor_var1/compensatory/Ausgleich_Acker/Ausgleich.shp"
      # - name: Contour
      #   update: false
      #   style:
      #     color: Black
      #     locked: false
      #   update: false
      #   label: elevation
      #   operations:
      #     - type: contour
      #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 1000
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/generated/contour.shp"
      - name: WMS Gebäude
        update: true
        operations:
          - type: wms
            url: "https://www.geodaten-mv.de/dienste/gebaeude_wms"
            layer: "gebaeude"
            srs: "EPSG:25833"
            format: "image/png"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Gebäude"
            layers:
              - Geltungsbereich
            buffer: 600
            zoom: 18
            overwrite: true
            postProcess:
                colorMap:
                  "#ff0000": "#808080"  # Map red to grey
                alphaColor: "#ffffff"  # Set white to fully transparent
                # tolerance: 30  # Increased tolerance to catch similar shades
                grayscale: true
                # removeText: true
      # - name: WMS Höhenlinien
      #   update: true
      #   operations:
      #     - type: wms
      #       url: "https://www.geodaten-mv.de/dienste/dgm_wms"
      #       layer: "hohenlinien"
      #       srs: "EPSG:25833"
      #       format: "image/png"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/22-16 Maxsolar - Friedrichshof/GIS/Höhenlinien"
      #       layers:
      #         - Geltungsbereich
      #       buffer: 600
      #       zoom: 0 # Zoom doesnt work (only for this layer?)
      #       overwrite: true
      #       postProcess:
      #         alphaColor: "#ffffff"  # Set white to fully transparent
      #         removeText: true
  - name: Plasten
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    # dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/Plasten4.dxf"
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Zeichnung/dev/test.dxf"    
    dumpOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten//GIS/dxf_dump"
    legend:
      title: "Planzeichen"
      subtitle: "(gem. PlanzV 1990-PlanzV 90 v.18.12.1990)"
      max_width: 100
      title_spacing: 15
      group_spacing: 15 # space between groups
      subtitle_spacing: 10 # space between subtitle and items
      item_spacing: 10 # space between items
      between_group_spacing: 25 # space between groups
      position:
        x: 367841
        y: 5942622
      titleTextStyle:
        height: 8
        color: "Black"
        font: "Legend"
        # rotation: 45
        # attachment_point: MTEXT_MIDDLE_CENTER
        # flow_direction: MTEXT_LEFT_TO_RIGHT
        # line_spacing_style: MTEXT_AT_LEAST
        # line_spacing_factor: 1.5
        # bg_fill: 1
        # bg_fill_color: 'yellow'
        # bg_fill_scale: 1.2
        # underline: True
        # overline: False
        # strike_through: False
        # oblique_angle: 15
      titleSubtitleStyle:
        height: 4
        color: "Dark Gray"
        font: "Legend"
      groupTextStyle:
        color: "Black"
        height: 7
        font: "Legend"
      subtitleTextStyle:
        color: "Black"
        height: 4
        font: "Legend"
      itemTextStyle:
        color: "Black"
        height: 4
        font: "Legend"
      groups:
        - name: "Maß der baulichen Nutzung"
          update: true
          subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
          items:
            - name: "Sonstiges Sondergebiet (§ 11 Abs. 2 BauNVO) Zweckbestimmung: Energiegewinnung auf der Basis solarer Strahlungsenergie"
              type: area
              style: baufeldSchraffur
                # color: "Red"
                # transparency: 0.5
                # linetype: "Continuous"
        - name: "Maß der baulichen Nutzung"
          update: true
          subtitle: "§ 9 Abs. 1 Nr. 1 BauGB"
          items:
            - name: "Grundflächenzahl"
              type: empty
              # style: baufeldSchraffur
        - name: "Bauweise, Baulinien, Baugrenzen"
          update: true
          subtitle: "§ 9 Abs. 1 Nr. 2 BauGB"
          items:
            - name: "Baugrenze"
              type: empty
              # style:
              #   color: "Blue"
              #   linetype: "ACAD_ISO02W100"    
        - name: "Verkehrsflächen"
          update: true
          subtitle: "(§ 9 Abs. 1 Nr. 11 und Abs. 6 BauGB)"
          items:
            - name: "Verkehrsfläche besonderer Zweckbestimmung"
              type: area
              style:
                color: "Burnt Yellow"
                hatch:
                  pattern: "ANSI31"
                  scale: 20
                  angle: 80
          items:
            - name: "Verkehrsberuhigter Bereich"
              type: empty
            - name: "Privat"
              type: empty
        - name: "Grünflächen"
          update: true
          subtitle: "§ 9 Abs.1 Nr. 15 BauGB"
          items:
            - name: "Private Grünflächen"
              type: area
              style:
                color: "Light Green"
                hatch:
                  pattern: "SOLID"
                  transparency: 0.5
          - name: "Wasserflächen und Flächen für die Wasserwirtschaft, den Hochwasserschutz und die Regelung des Wasserabflusses"
            update: true
            subtitle: "§ 9 Abs. 1 Nr. 16 BauBG"
            items:
              - name: "Wasserflächen"
                type: area
                style:
                  color: "Light Green"
                  hatch:
                    pattern: "SOLID"
                    transparency: 0.5
    viewports:
      - name: MainView
        center: [425, 450]
        width: 720
        height: 653
        target_view:
          center: [1000, 1000]
          height: 500
      - name: WorkView
        center: [780, 2000]
        width: 720
        height: 653
        target_view:
          center: [1000, 1000]
          height: 500
    reports:
      - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordwesten in Plasten
        type: area
        baseLayer: Parcel
        coverLayer: Geltungsbereich NW
        output:
          format: csv
          file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_nw_by_parcel"
        includeLabels: true
        includeTotalArea: true
      - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Nordosten in Plasten
        type: area
        baseLayer: Parcel
        coverLayer: Geltungsbereich NO
        output:
          format: csv
          file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_no_by_parcel"
        includeLabels: true
        includeTotalArea: true
      - name: Anteilige Flurstücksgrößen innerhalb Geltungsbereich Süden in Plasten
        type: area
        baseLayer: Parcel
        coverLayer: Geltungsbereich S
        output:
          format: csv
          file: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/Ausgabe Karten und Daten/ZAV/areas_geltungsbereich_s_by_parcel"
        includeLabels: true
        includeTotalArea: true
    geomLayers:
      - name: Flur
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/flur.shp"
        label: flurname
        close: true
        linetypeScale: 0.2
        linetypeGeneration: true
        style:
          locked: true
          linetype: ACAD_ISO14W100
        viewports:
          - name: WorkView
            style:
              color: "Light Gray"
      - name: Parcel
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/parcel.shp"
        label: label
        close: true
        style:
          # color: Black
          locked: true
          # linetype: ACAD_ISO11W100
          # linetypeGeneration: true
          # linetypeScale: 1
          # lineweight: 30
          # plot: true
          # frozen: false
          # is_on: true 
          # vp_freeze: false
          # transparency: 0.0
        # labelStyle:
        #   color: "Green"
        viewports:
          - name: WorkView
            style:
              color: "Dark Gray"
              # linetype: "ZIGZAG"
              # lineweight: 35
              # transparency: 0.5
      - name: Gemarkung
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemarkung.shp"
        label: gmkname
        close: true
        # linetypeScale: 0.2
        linetypeGeneration: true
        style:
          locked: true
          linetype: ACAD_ISO12W100
        viewports:
          - name: WorkView
            style:
              color: "Light Gray"
      - name: Gemeinde
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gemeinde.shp"
        label: gen
        close: true
        # linetypeScale: 0.2
        linetypeGeneration: true
        style:
          locked: true
          linetype: ACAD_ISO10W100
        viewports:
          - name: WorkView
            style:
              color: "Light Gray"
      - name: Grünfläche Input 1
        # update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/geltungsbereich_abstand.shp"
        close: true
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/grünfläche_input_1.shp"
      - name: Wald
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/wald.shp"
        close: true
        operations:
          - type: merge
        viewports:
          - name: WorkView
            style:
              color: "Dark Green"
      - name: Wald Schraffur
        update: true
        style:
          hatch:
            layers:
              - Wald
            pattern: 'ANSI31'
            scale: 5  # Adjust this value to change the hatch density
      - name: Biotope Input 1
        # update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/biotope.shp"
        # close: true
      - name: Exclude
        # update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/exclude.shp"
      # - name: Exclude Acad
      #   update: false
      #   dxfLayer: "Exclude Acad"
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/exclude_acad.shp"
      - name: Baumabstand Puffer
        # update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/baum_abstand.shp"
        # close: true
        operations:
          - type: buffer
            distance: 5
            # joinStyle: round
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baumabstand.shp"   
      - name: Geschütze Biotope
        update: true
        close: true
        # linetypeScale: 0.2
        linetypeGeneration: true
        style:
          color: "Light Orange"
          linetype: ACAD_ISO02W100
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/gesch_biotope.shp"
      - name: FG Buffer
        # update: true
        # style:
        #   color: "Light Blue"
        operations:
          - type: buffer
            distance: 7
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/input/FG.shp"
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/fg_puffer.shp"
      - name: Geltungsbereich NW
        update: true
        close: true
        style:
          color: "Red"
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "1"
                  - "2"
                  - "4"
                  - "6"
                  - "7"
                  - "14"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_1.shp"
      - name: Geltungsbereich NW 2
        update: true
        close: true
        linetypeScale: 1
        linetypeGeneration: true
        style:
          color: "Dark Gray"
          linetype: ACAD_ISO02W100
          lineweight: 158
        operations:
          - type: buffer
            layers:
              - name: Geltungsbereich NW
            distance: 2
      - name: Geltungsbereich NO
        update: true
        style:
          color: "Red"
          locked: false
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "24/8"
                  - "24/9"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 1"
              - name: Gemarkung
                values:
                  - "Groß Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
              # - Exclude Acad
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_2.shp"
      - name: Geltungsbereich S
        update: true
        style:
          color: "Red"
          locked: false
        close: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "41/1"
          - type: filter
            layers:
              - name: Flur
                values:
                  - "Flur 2"
              - name: Gemarkung
                values:
                  - "Klein Plasten"
              - name: Gemeinde
                values:
                  - "Groß Plasten"
          - type: difference
            layers:
              - Wald
              - Baumabstand Puffer
              - Exclude
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/geltungsbereich_3.shp"
      - name: Waldabstand
        # update: true
        # style:
        #   color: "Dark Green"
        # close: true
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/waldabstand.shp"
      - name: Biotope
        update: true
        close: true
        viewports:
          - name: WorkView
            style:
              color: "Light Green"
        operations:
          - type: buffer
            layers:
              - Biotope Input 1
              - Geschütze Biotope
            distance: 10
          - type: buffer
            mode: keep
            layers:
              - Biotope Input 1
              - Geschütze Biotope
            distance: 5
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/biotope.shp"
      - name: Ausgleich
        update: true
        close: true
        viewports:
          - name: WorkView
            style:
              color: "Dark Green"
        operations:
          - type: copy
            layers:
              - Grünfläche Input 1
              - Waldabstand
              - Baumabstand Puffer
              - FG Buffer
          - type: intersection
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
        bluntAngles:
          angleThreshold: 25  # Angles smaller than this will be blunted
          distance: 10.0  # Distance to move the vertex along the angle bisector
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/ausgleich.shp"
      - name: Ausgleich Schraffur
        update: true
        style:
          color: "Dark Green"
          transparency: 0.6
          hatch:
            individual_hatches: true
        operations:
          - type: copy
            layers:
              - Ausgleich
          - type: difference
            layers:
              - Grünfläche
      - name: Grünfläche
        update: true
        close: true
        viewports:
          - name: WorkView
            style:
              color: "Light Green"
        operations:
          - type: buffer
            layers:
              - Ausgleich
            distance: -5
      - name: Grünfläche Schraffur
        update: true
        style:
          color: "Light Green"
          transparency: 0.6
          hatch:
            layers:
              - Grünfläche
            individual_hatches: true
      - name: Baufeld
        update: true
        close: true
        viewports:
          - name: WorkView
            style:
              color: "Light Red"
        operations:
          - type: copy
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
          - type: difference
            layers:
              - Ausgleich
              - Baumabstand Puffer
              - Biotope
              - FG Buffer
          # - type: smooth
          #   strength: 1.5
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baufeld.shp"
      - name: Baufeld Schraffur
        update: true
        style: baufeldSchraffur
        performHatch:
          layers:
            - Baufeld
          # individual_hatches: true
          # pattern: 'ANSI31'
          # scale: 50  # Adjust this value to change the hatch density
          # color: "Blue"  # ACI color index for Light Red
      - name: Baugrenze 2
        update: true
        style:
          color: "Green Blue"
          lineweight: 60
        close: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3.4
      - name: Baugrenze
        update: true
        style:
          linetype: ACAD_ISO02W100
          lineweight: 60
        linetypeScale: 0.5
        linetypeGeneration: true
        close: true
        viewports:
          - name: WorkView
            style:
              color: "Blue"
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/baugrenze.shp"
      - name: WMTS DOP
        # update: true
        style:
          locked: true
          # color: "White"
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            # zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/DOP"
            layers:
              - Geltungsbereich NW
              - Geltungsbereich NO
              - Geltungsbereich S
            buffer: 200
            stitchTiles: true
            # overwrite: true
      # - name: WMTS Basemap
      #   update: true
      #   color: Black
      #   locked: true
      #   operations:
      #     - type: wmts
      #       url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
      #       layer: "de_basemapde_web_raster_farbe"
      #       zoom: "10"
      #       proj: "DE_EPSG_25833_ADV"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Basemap"
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #       buffer: 200
      # - name: Contour
      #   update: true
      #   style:
      #     color: Black
      #     locked: false
      #   label: elevation
      #   operations:
      #     - type: contour
      #       url: "https://www.geodaten-mv.de/dienste/dgm_atom?type=dataset&id=df758744-b2a1-4d39-b34c-9ec5bf9b4372"
      #       layers:
      #         - Geltungsbereich NW
      #       buffer: 1000
      #   outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/generated/contour.shp"
      # - name: WMS Gebäude
      #   update: true
      #   operations:
      #     - type: wms
      #       url: "https://www.geodaten-mv.de/dienste/gebaeude_wms"
      #       layer: "gebaeude"
      #       srs: "EPSG:25833"
      #       format: "image/png"
      #       targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-24 Maxsolar - Plasten/GIS/Gebäude"
      #       layers:
      #         - Geltungsbereich NW
      #         - Geltungsbereich NO
      #         - Geltungsbereich S
      #       buffer: 100
      #       zoom: 10
      #       # overwrite: true
      #       postProcess:
      #           colorMap:
      #             "#ff0000": "#808080"  # Map red to grey
      #           alphaColor: "#ffffff"  # Set white to fully transparent
      #           # tolerance: 30  # Increased tolerance to catch similar shades
      #           grayscale: true
      #           # removeText: true
      #       stitchTiles: true
  - name: Torgelow
    exportFormat: dxf
    dxfVersion: R2018
    crs: EPSG:25833
    dxfFilename: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/Zeichnung/torgelow.dxf"
    geomLayers:
      - name: Flur
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/flur2.shp"
        label: "flurname"
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: true
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Parcel
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/parcel2.shp"
        label: label
        color: White
        linetype: ACAD_ISO11W100
        lineweight: 30
        plot: true
        frozen: false
        is_on: true 
        vp_freeze: false
        # transparency: 0.0
        locked: true
        close: true
      - name: Gemarkung
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemarkung2.shp"
        label: gmkname
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Gemeinde
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/gemeinde2.shp"
        label: gen
        color: White
        linetype: Continuous
        lineweight: 13
        plot: false
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
      - name: Wald
        update: true
        add: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/wald.shp"
        label: waldname
        color: Dark Green
        linetype: Continuous
        lineweight: 13
        plot: true
        locked: false
        frozen: false
        is_on: true
        vp_freeze: false
        # transparency: 0.0
        close: true
      # - name: Biotope
      #   add: true
      #   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/biotope.shp"
      #   label: biotopn
      #   color: "Green"
      #   close: true
      #   locked: false
      - name: Straße
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/abstand.shp"
      # - name: Biotope Puffer
      #   color: "Light Green"
      #   close: true
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Biotope
      #       distance: 5
      #     - type: intersection
      #       layers:
      #         - Geltungsbereich
      - name: Straße Abstand
        update: true # I think this is optional, if that layer does not already exists in the dxf file, but it cant hurt and makes sure that it updates
        operations:
          - type: buffer
            layers: 
              - Straße
            distance: 7
      # - name: Flur Offset
      #   update: true
      #   color: "Light Green"
      #   close: false
      #   locked: false
      #   add: true
      #   operations:
      #     - type: buffer
      #       layers:
      #         - Flur
      #       distance: 10
      - name: Weg
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/weg.shp"
      - name: Weg Abstand
        update: true
        operations:
          # - type: buffer
          #   layers:
          #     - Weg
          #   distance: 1
          - type: copy
            layers:
              - Weg
      - name: Geltungsbereich
        update: true
        color: "Red"
        locked: false
        close: false
        add: true
        operations:
          - type: copy
            layers:
              - name: Parcel
                values:
                  - "81"
                  - "87/1"
                  - "89"
                  - "95"
                  - "96"
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  - "103"
                  - "104"
          - type: filter
            layers:
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
          - type: difference
            layers:
              - Wald
              - Straße Abstand
              - Weg Abstand
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/geltungsbereich.shp"
      - name: Wald Abstand
        update: true
        color: "Light Green"
        close: true
        locked: false
        # add: true
        operations:
          - type: buffer
            layers:
              - Wald
            distance: 30
          - type: intersection
            layers:
              - Geltungsbereich
      - name: Grünflächeinput
        update: true
        shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/grünfläche.shp"
      - name: Temp Grünfl
        update: true
        operations:
          - type: filter
            layers:
              - name: Parcel
                values:
                  - "97"
                  - "99"
                  - "100"
                  - "101"
                  - "102"
                  # - "103"
              - name: Flur
                values:
                  - Flur 2
              - name: Gemarkung
                values:
                  - Torgelow am See
              - name: Gemeinde
                values:
                  - Torgelow am See
      - name: Grünfläche
        update: true
        color: "Light Green"
        close: true
        locked: false
        add: true
        operations:
          - type: merge
            layers:
              - Grünflächeinput
              - Temp Grünfl
              - Wald Abstand
          - type: difference
            layers:
              - Weg Abstand
          - type: intersection
            layers:
              - Geltungsbereich
          - type: buffer
            distance: -5
            mode: keep # Keeps both the original geometries and the buffered ones
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/grünfläche.shp"
      - name: Baufeld
        update: true
        color: "Light Red"
        locked: false
        close: true
        textColor: "White"
        add: true
        operations:
          - type: copy
            layers:
              - Geltungsbereich
          # - type: difference
          #   layers:
          #     - Biotope
          #     - Wald Abstand
          #     - Grünfläche
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/baufeld.shp"
      - name: Baugrenze
        update: true
        color: "Blue"
        locked: false
        close: true
        add: true
        operations:
          - type: buffer
            layers:
              - Baufeld
            distance: -3
        outputShapeFile: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/generated/baugrenze.shp"
      - name: WMTS DOP
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://www.geodaten-mv.de/dienste/dop_wmts/wmts/1.0.0/WMTSCapabilities.xml"
            layer: "mv_dop"
            zoom: "10"
            proj: "ETRS89UTM33"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/DOP"
            layers:
              - Geltungsbereich
            buffer: 100
      - name: WMTS Basemap
        # update: true
        color: Black
        locked: true
        add: true
        operations:
          - type: wmts
            url: "https://sgx.geodatenzentrum.de/wmts_basemapde/1.0.0/WMTSCapabilities.xml"
            layer: "de_basemapde_web_raster_farbe"
            zoom: "10"
            proj: "DE_EPSG_25833_ADV"
            targetFolder: "Öffentlich Planungsbüro Schulz/Projekte/23-25 Maxsolar - Torgelow/GIS/Basemap"
            layers:
              - Geltungsbereich
            buffer: 200
