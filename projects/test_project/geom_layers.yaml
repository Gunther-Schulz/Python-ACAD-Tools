# ===========================================
# BASE BUILDING LAYERS - Different Types
# ===========================================

- name: "commercial_buildings"
  geojsonFile: "@data.test"
  style: "building_style"
  updateDxf: true
  labelColumn: "name"  # Show building names
  selectByProperties:
    type: "commercial"

- name: "residential_buildings"
  geojsonFile: "@data.root/test_data.geojson"
  style: "residential_style"
  updateDxf: true
  labelColumn: "floors"  # Show number of floors as labels
  selectByProperties:
    type: "residential"

- name: "industrial_buildings"
  geojsonFile: "@data.test"
  style: "industrial_style"
  updateDxf: true
  labelColumn: "area_sqm"  # Show area in square meters
  selectByProperties:
    type: "industrial"

- name: "public_buildings"
  geojsonFile: "@data.external/public_facilities.geojson"
  style: "public_style"
  updateDxf: true
  labelColumn: "name"  # Show public building names (City Library, Town Square)
  selectByProperties:
    type: "public"

- name: "recreational_facilities"
  geojsonFile: "@data.test"
  style: "recreational_style"
  updateDxf: true
  labelColumn: "name"  # Show recreational facility names (Sports Complex)
  selectByProperties:
    type: "recreational"

- name: "healthcare_facilities"
  geojsonFile: "@data.reference/healthcare_locations.geojson"
  style: "healthcare_style"
  updateDxf: true
  labelColumn: "name"  # Show healthcare facility names (Medical Center)
  selectByProperties:
    type: "healthcare"

- name: "educational_facilities"
  geojsonFile: "@data.test"
  style: "educational_style"
  updateDxf: true
  labelColumn: "name"  # Show educational facility names (School Campus)
  selectByProperties:
    type: "educational"

# ===========================================
# COMPLETE BUILDING COLLECTIONS
# ===========================================

- name: "all_buildings"
  geojsonFile: "@data.main_dataset"
  style: "building_style"
  updateDxf: true
  labelColumn: "address"  # Show building addresses for all buildings
  selectByProperties:

# ===========================================
# ROAD NETWORKS
# ===========================================

- name: "main_roads"
  geojsonFile: "@data.root/road_network.geojson"
  style: "road_style"
  updateDxf: true
  labelColumn: "name"  # Show road names
  selectByProperties:
    type: "highway"

- name: "bike_paths"
  geojsonFile: "@data.test"
  style: "road_style"
  updateDxf: true
  labelColumn: "surface"  # Show surface type
  selectByProperties:
    type: "cycleway"

# ===========================================
# POINTS OF INTEREST
# ===========================================

- name: "parks"
  geojsonFile: "@data.external/parks_and_recreation.geojson"
  style: "point_style"
  updateDxf: true
  labelColumn: "name"  # Show park names
  selectByProperties:
    type: "park"

- name: "transit_stops"
  geojsonFile: "@data.test"
  style: "transit_style"
  updateDxf: true
  labelColumn: "routes"  # Show bus routes
  selectByProperties:
    type: "transit"

- name: "amenities"
  geojsonFile: "@data.reference/amenities_catalog.geojson"
  style: "amenity_style"
  updateDxf: true
  labelColumn: "category"  # Show amenity category
  selectByProperties:
    type: "amenity"

# ===========================================
# OPERATION-BASED LAYERS
# ===========================================

# Test buffering operation with label preservation
- name: "buffered_commercial"
  operations:
    - type: buffer
      layers:
        - commercial_buildings
      distance: 10.0
      joinStyle: "round"
      capStyle: "round"
  style: "building_style"
  updateDxf: true
  labelColumn: "name"  # Test if labels are preserved after buffering

# Test merge operation with combined labels
- name: "merged_buildings_roads"
  operations:
    - type: union
      layers:
        - commercial_buildings
        - main_roads
  style: "building_style"
  updateDxf: true
  labelColumn: "name"  # Test labels on union features

# Test bounding box for overall context
- name: "study_area_boundary"
  operations:
    - type: bounding_box
      layers:
        - all_buildings
        - main_roads
      padding: 15.0
  style: "building_style"
  updateDxf: true

# ===========================================
# ALIAS CHAINING TEST LAYERS
# ===========================================

# Test chaining with parks data via external directory alias
- name: "chaining_test_parks"
  geojsonFile: "@test.chained_parks"  # This chains: @test.chained_parks -> @data.external/parks_and_recreation.geojson
  style: "point_style"
  updateDxf: false  # Don't update DXF for testing
  selectByProperties:

# Test chaining with amenities data via reference directory alias
- name: "chaining_test_amenities"
  geojsonFile: "@test.chained_amenities"  # This chains: @test.chained_amenities -> @data.reference/amenities_catalog.geojson
  style: "building_style"
  updateDxf: false  # Don't update DXF for testing
  selectByProperties:
