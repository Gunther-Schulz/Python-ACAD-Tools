geomLayers:
- name: Baum_Laubbaum Points
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/baum_laubbaum.shp"
- name: Baum_Laubbaum Circle
  updateDxf: true
  operations:
    - type: circle
      layers:
        - Baum_Laubbaum Points
      # radiusField: radius
      radius: 10
- name: Baum_Laubbaum Line
  updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/baum_laubbaum.shp"
  operations:
    - type: connect-points
      maxDistance: 27
- name: Baum_Laubbaum Buffer
  # updateDxf: true
  operations:
    - type: buffer
      layers:
        - Baum_Laubbaum Points
        - Baum_Laubbaum Line
      distance: 10
      capStyle: round
      joinStyle: round
    - type: dissolve
- name: Baum_Laubbaum Envelope
  # updateDxf: true
  operations:
    - type: envelope
      layers:
        - Baum_Laubbaum Buffer
      padding: 0.2
      minRatio: 1.5
      capStyle: round
- name: Str-Leitungsabschnitt-NS
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/str_leitungsabschnitt_ns.shp"
- name: Str-Leitungsabschnitt-NS Buffer
  operations:
    - type: buffer
      layers:
        - Str-Leitungsabschnitt-NS
      distance: 2
      capStyle: flat
      joinStyle: flat
- name: Leitung Buffer
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/leitung_buffer.shp"
- name: Parcel
  label: label
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/parcel.shp"
- name: Flur
  label: flurname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/flur.shp"
- name: Gemarkung
  label: gmkname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemarkung.shp"
- name: Gemeinde
  label: gen
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemeinde.shp"
- name: Geltungsbereich
  updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/geltungsbereich.shp"
  operations:
    - type: calculate
      calculations:
        - type: area
          as: area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/geltungsbereich_report.json"
      featureColumns:
        - area
      calculate:
        - area
      decimalPlaces:
        area: 0
# Report only
- name: Parcel Intersections
  updateDxf: false
  operations:
    - type: copy
      layers:
        - name: Parcel
    - type: intersection
      layers:
        - name: Geltungsbereich
    - type: filterGeometry
      minArea: 10
      geometryTypes:
        - Polygon
    - type: calculate
      calculations:
        - type: area
          as: intersection_area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/parcel_intersections_report.json"
      featureColumns:
        - label
        - intersection_area
      calculate:
        - area
      decimalPlaces:
        intersection_area: 0
        area: 0
- name: Grünfläche Input from source
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input_from_source.shp"
- name: Grünfläche Input
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input.shp"
- name: Moor
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/moor.shp"
- name: "ges gesch Biotope"
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/ges. geschützte Biotope.shp"
- name: Graben
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/graben.shp"
- name: Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "blue"
  operations:
    - type: copy
      layers:
        - "Grünfläche Input from source"
        - "Grünfläche Input"
        - Moor
        - "ges gesch Biotope"
    - type: dissolve
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: difference
      reverseDifference: false
      layers:
        - Graben
- name: Ausgleich Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "chartreuse-medium"
  operations:
    - type: buffer
      layers:
        - Grünfläche
      distance: -3
      joinStyle: round
      # skipIslands: true
      preserveIslands: true
- name: Grünfläche Schraffur
  updateDxf: true
  style: grünfläche
  applyHatch:
    layers:
      - Ausgleich Grünfläche
- name: Ausgleich Schutzflächeumgrenzung
  updateDxf: true
  # style:
  #   layer:
  #     color: "yellow-medium"
  operations:
    - type: copy
      layers:
        - Grünfläche
    - type: difference
      layers:
        - Ausgleich Grünfläche
- name: Grünfläche T-Linie Symbol Schraffur
  updateDxf: true
  style: schutzflächeumgrenzung
  applyHatch:
    layers:
      - Ausgleich Schutzflächeumgrenzung
- name: Baufeld
  updateDxf: true
  close: true
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      useBufferTrick: true
      reverseDifference: false
      operations:
        - type: dissolve
          layers:
            - Grünfläche
            - Graben
    - type: filterGeometry
      minArea: 200
      geometryTypes:
        - Polygon
- name: Baufeld Schraffur
  updateDxf: true
  style: baufeld
  applyHatch:
    layers:
      - Baufeld
- name: Baugrenze 2
  updateDxf: true
  style: baugrenze_2
  close: true
  operations:
    - type: buffer
      layers:
        - Baugrenze
      distance: -0.4
- name: Baugrenze
  updateDxf: true
  style: baugrenze
  linetypeScale: 0.5
  linetypeGeneration: true
  close: true
  operations:
    - type: buffer
      layers:
        - Baufeld
      distance: -3
    - type: difference
      reverseDifference: false
      layers:
        - Str-Leitungsabschnitt-NS Buffer
        - Leitung Buffer
        - Baum_Laubbaum Envelope
    # - type: buffer
    #   distance: -6
    # - type: buffer
    #   distance: 6