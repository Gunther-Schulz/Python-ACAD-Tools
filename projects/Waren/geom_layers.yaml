geomLayers:

### Leitung ###

# Stadtwerke
- name: Leitung Str-Leitungsabschnitt-NS
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_str_leitungsabschnitt_ns_ln.shp"

- name: Leitung Str-Leitungsabschnitt-NS Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Str-Leitungsabschnitt-NS
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Leitung Was-Leitungsabschnitt-VN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_was_leitungsabschnitt_vn_ln.shp"

- name: Leitung Was-Leitungsabschnitt-VN Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Was-Leitungsabschnitt-VN
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Leitung Was-Leitungsabschnitt-AN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_was_leitungsabschnitt_an_ln.shp"
#
- name: Leitung Was-Leitungsabschnitt-AN Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Was-Leitungsabschnitt-AN
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Leitung Gas-Leitungsabschnitt-VN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_gas_leitungsabschnitt_vn_ln.shp"

- name: Leitung Gas-Leitungsabschnitt-VN Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Gas-Leitungsabschnitt-VN
      distance: 2
      capStyle: flat
      joinStyle: flat

# ONTRAS
- name: Leitung Ontras Gas
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_ontras_gas_ln.shp"

- name: Leitung Ontras TK
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_ontras_tk_ln.shp"

- name: Leitung Ontras Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Ontras Gas
        - Leitung Ontras TK
      distance: 10
      # capStyle: round
      joinStyle: round

# Vermessung
- name: Leitung Gas_HD_LEIT # Edis Gas
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_gas_hd_ln.shp"

- name: Leitung Gas_HD_LEIT Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Gas_HD_LEIT
      distance: 3
      # capStyle: round
      joinStyle: round

- name: Leitung Stromkabel-MS_unterirdisch_LEIT
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_stromkabel_ms_unterirdisch_ln.shp"
- name: Leitung Stromkabel-MS_unterirdisch_LEIT Label Points
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_stromkabel_ms_unterirdisch_besc_pt.shp"

- name: Leitung Stromkabel-MS_unterirdisch_LEIT Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Stromkabel-MS_unterirdisch_LEIT
      distance: 2
      capStyle: flat
      joinStyle: flat

# Maxsolar (Vermessung)
- name: Leitung Mittelspannung Zuwegung
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/maxsolar_leitung_ms_zuwegung_ln.shp"

# Bestand-Zeichnung

- name: Leitung Telekom
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_telekom_ln.shp"

- name: Leitung Telekom Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Telekom
      distance: 15
      capStyle: flat
      joinStyle: flat

- name: Leitung Edis
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_edis_ln.shp"

- name: Leitung Edis Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Edis
      distance: 2 # Gechätzt, müsste nachschauen
      capStyle: flat
      joinStyle: flat


### Baum ###
- name: Baum_Laubbaum Points
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_baum_laubbaum_pt.shp"
# - name: Baum_Laubbaum Label
#   updateDxf: true
#   style: baum
#   operations:
#     - type: copy
#       layers:
#         - Baum_Laubbaum Points
#     - type: labelAssociation
#       labelColumn: "label_ml"
#       labelOffset: 1
- name: Baum_Laubbaum Krone
  updateDxf: true
  operations:
    - type: circle
      layers:
        - Baum_Laubbaum Points
      radiusField: Krone_R
- name: Baum_Laubbaum Buffer
  operations:
    - type: buffer
      layers:
        - Baum_Laubbaum Krone
      distance: 1.5
      capStyle: round
      joinStyle: round
- name: Baum_Laubbaum Envelope
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_baum_laubbaum_pt.shp"
  operations:
    - type: connect-points
      maxDistance: 27
    - type: buffer
      # distance: 10
      distance: 7
      capStyle: round
      joinStyle: round
    - type: dissolve

### Grundlagen ###
- name: Parcel
  label: label
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/parcel.shp"
- name: Flur
  label: flurname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/flur.shp"
- name: Gemarkung
  label: gmkname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemarkung.shp"
- name: Gemeinde
  label: gen
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemeinde.shp"

### Exclude ###
- name: Exclude
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude.shp"
- name: Exclude 2
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude2.shp"
- name: Exclude 3
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_3.shp"
- name: Exclude Leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_leitung.shp"
- name: Exclude Bahn Buffer
  # It is already a buffered shape
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_bahn.shp"
- name: Exclude Böschung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_böschung.shp"
- name: Exclude Zuwegung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_zuwegung.shp"
- name: Baugrenze Exclude
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/baugrenze_exclude.shp"

### Zuwegung ###
- name: Zuwegung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/maxsolar_zuwegung_mittellinie_ln.shp"
  updateDxf: true
  operations:
    - type: buffer
      distance: 2
      capStyle: square
    - type: difference
      reverseDifference: false
      layers:
        - Exclude Zuwegung
- name: Zuwegung Schraffur
  updateDxf: true
  style: verkehrsfläche
  applyHatch:
    layers:
      - Zuwegung

### Geltungsbereich ###
- name: Geltungsbereich Input
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/geltungsbereich_pl.shp"
- name: Geltungsbereich
  updateDxf: true
  style: geltungsbereich
  operations:
    - type: dissolve
      layers:
        - Geltungsbereich Input
    - type: difference
      reverseDifference: false
      layers:
        - Exclude
        - Exclude 2
        - Exclude 3
        # - Exclude Bahn Buffer
        # - Exclude Böschung
        - Exclude Leitung
        - Baum_Laubbaum Envelope
    - type: copy
      layers:
        - Zuwegung
    - type: dissolve
    - type: calculate
      calculations:
        - type: area
          as: area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/geltungsbereich_report.json"
      featureColumns:
        - area
      calculate:
        - area
      decimalPlaces:
        area: 0
- name: Geltungsbereich 2
  updateDxf: true
  linetypeScale: 1
  style: geltungsbereich_2
  operations:
    - type: buffer
      layers:
        - name: Geltungsbereich
      distance: 2
# Report only
- name: Parcel Intersections
  updateDxf: false
  operations:
    - type: copy
      layers:
        - name: Parcel
    - type: intersection
      layers:
        - name: Geltungsbereich
    - type: filterGeometry
      minArea: 10
      geometryTypes:
        - polygon
    - type: calculate
      calculations:
        - type: area
          as: intersection_area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/parcel_intersections_report.json"
      featureColumns:
        - label
        - intersection_area
      calculate:
        - area
      decimalPlaces:
        intersection_area: 0
        area: 0


### Grünfläche ###
# - name: Grünfläche Input from source
#   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input_from_source_pl.shp"
- name: Grünfläche Input
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input.shp"
- name: Grünflache Input near Graben
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input_near_graben.shp"
  operations:
    - type: dissolve
    - type: buffer # to prevent error: Could not add feature to layer at index 0: Coordinates with non-finite values are not allowed (from /home/g/dev/Gunther-Schulz/Python-ACAD-Tools/src/shapefile_utils.py:190
      distance: 0.01
    - type: filterGeometry
      geometryTypes:
        - polygon
      # minArea: 1
- name: Moor
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/moor.shp"
- name: "ges gesch Biotope"
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/ges. geschützte Biotope.shp"
- name: Graben
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_graben_pl.shp"
- name: Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "blue"
  operations:
    - type: copy
      layers:
        # - "Grünfläche Input from source"
        - "Grünfläche Input"
        - "Grünflache Input near Graben"
        # - Baum_Laubbaum Envelope
        # - Baum_Laubbaum Buffer
        - Moor
        - "ges gesch Biotope"
        - Leitung Ontras Buffer
        - Leitung Gas_HD_LEIT Buffer
    - type: dissolve
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: filterGeometry
      minArea: 100
      geometryTypes:
        - polygon
    - type: difference
      reverseDifference: false
      layers:
        - Graben
- name: Ausgleich Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "chartreuse-medium"
  operations:
    - type: buffer
      layers:
        - Grünfläche
      # distance: -3
      distance: -1
      joinStyle: round
      # skipIslands: true
      preserveIslands: true
- name: Grünfläche Schraffur
  updateDxf: true
  style: grünfläche
  applyHatch:
    layers:
      - Ausgleich Grünfläche
- name: Ausgleich Schutzflächeumgrenzung
  updateDxf: true
  # style:
  #   layer:
  #     color: "yellow-medium"
  operations:
    - type: copy
      layers:
        - Grünfläche
    - type: difference
      reverseDifference: auto
      layers:
        - Ausgleich Grünfläche
- name: Grünfläche T-Linie Symbol Schraffur
  updateDxf: true
  style: schutzflächeumgrenzung
  applyHatch:
    layers:
      - Ausgleich Schutzflächeumgrenzung

### Baufeld/Baugrenze ###
- name: Baufeld
  updateDxf: true
  close: true
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      reverseDifference: false
      useBufferTrick: true
      operations:
        - type: dissolve
          layers:
            - Grünfläche
            - Graben
            - Zuwegung
    - type: filterGeometry
      minArea: 200
      geometryTypes:
        - polygon
- name: Baufeld Schraffur
  updateDxf: true
  style: baufeld
  applyHatch:
    layers:
      - Baufeld
- name: Baugrenze 2
  updateDxf: true
  style: baugrenze_2
  close: true
  operations:
    - type: buffer
      layers:
        - Baugrenze
      distance: -0.4
- name: Baugrenze
  updateDxf: true
  style: baugrenze
  linetypeScale: 0.5
  linetypeGeneration: true
  close: true
  operations:
    - type: buffer
      layers:
        - Baufeld
      distance: -3
    - type: difference
      reverseDifference: false
      layers:
        - Leitungen Buffer
        - Baum_Laubbaum Envelope
        - Baum_Laubbaum Buffer
        - Baugrenze Exclude
        - Exclude Bahn Buffer
        - Exclude Böschung
    - type: calculate
      calculations:
        - type: area
          as: area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/baugrenze_report.json"
      featureColumns:
        - area
      calculate:
        - area
      decimalPlaces:
        area: 0
    # - type: buffer
    #   distance: -6
    # - type: buffer
    #   distance: 6

### Place Leitung Labels ###

- name: Leitungen Labels
  updateDxf: true
  style: leitung
  operations:
    - type: labelAssociation
      # showLog: true
      labelSettings:
        labelSpacing: 100
        labelOffset: 1
        # avoidAllGeometries: true
        avoidLayers:
          - Baugrenze
          - Baugrenze 2
          - Geltungsbereich
          - Geltungsbereich 2
          - Grünfläche
          - Baufeld
          # - Blendschutzzaun
          - Zuwegung
          - Baum_Laubbaum Buffer
        # labelOffset: 2
        # widthFactor: 2      # Makes label box 30% wider than the text width
        # heightFactor: 1.5     # Makes label box 50% taller than the text height
        # bufferFactor: 0.2     # Adds 20% of text height as padding around the label box
        # collisionMargin: 0.25 # Adds 25% extra space when checking for collisions with other labels
      sourceLayers:
        - name: Leitung Str-Leitungsabschnitt-NS
          label: Strom Niederspannung

        - name: Leitung Was-Leitungsabschnitt-VN
          label: Wasser VN

        - name: Leitung Was-Leitungsabschnitt-AN
          label: Wasser AN

        - name: Leitung Gas-Leitungsabschnitt-VN
          label: Gas VN

        - name: Leitung Ontras Gas
          label: Gas Ontras

        - name: Leitung Ontras TK
          label: TKOntras
          labelOffset: -2.3

        - name: Leitung Gas_HD_LEIT
          label: Gas Hochdruck

        - name: Leitung Stromkabel-MS_unterirdisch_LEIT
          label: Stromkabel MS unterirdisch

        - name: Leitung Mittelspannung Zuwegung
          label: Strom Mittelspannung Zuwegung

        - name: Leitung Telekom
          label: Telekom

        - name: Leitung Edis
          label: Strom Edis

- name: Leitungen Path
  operations:
    - type: dissolve
      layers:
        - Leitung Str-Leitungsabschnitt-NS
        - Leitung Was-Leitungsabschnitt-VN
        - Leitung Was-Leitungsabschnitt-AN
        - Leitung Gas-Leitungsabschnitt-VN
        - Leitung Ontras Gas
        - Leitung Ontras TK
        - Leitung Gas_HD_LEIT
        - Leitung Stromkabel-MS_unterirdisch_LEIT
        - Leitung Mittelspannung Zuwegung
        - Leitung Telekom
        - Leitung Edis
- name: Leitungen Buffer
  operations:
    - type: dissolve
      layers:
        - Leitung Str-Leitungsabschnitt-NS Buffer
        - Leitung Was-Leitungsabschnitt-VN Buffer
        - Leitung Was-Leitungsabschnitt-AN Buffer
        - Leitung Gas-Leitungsabschnitt-VN Buffer
        - Leitung Ontras Buffer
        - Leitung Gas_HD_LEIT Buffer
        - Leitung Stromkabel-MS_unterirdisch_LEIT Buffer
        - Leitung Telekom Buffer
        - Leitung Edis Buffer


### Ausgleich ###
# 20 Stunden Arbeit 10.12. und 11.12.2024


# Biotoptypen
- name: Biotoptyp Sonstiges Feuchtgrünland
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/GFD - Sonstiges Feuchtgrünland.shp"  
  operations:
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: filterGeometry
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

- name: Biotoptyp Sandacker
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      reverseDifference: false
      layers:
        - Biotoptyp Sonstiges Feuchtgrünland

# Externer Ausgleich
- name: Ausgleich Extern
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Ausgleich Süden.shp"

# Unchanging
- name: Unchanging
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      reverseDifference: true
      layers:
        - Moor
        - "ges gesch Biotope"
        - Graben
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

# Construction
- name: Construction SF
  operations:
    - type: copy
      layers:
        - Baufeld
    - type: dissolve
    - type: intersection
      layers:
        - Biotoptyp Sonstiges Feuchtgrünland
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

- name: Construction Sandacker
  operations:
    - type: copy
      layers:
        - Baufeld
        - Zuwegung
    - type: dissolve
    - type: intersection
      layers:
        - Biotoptyp Sandacker
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1


# Compensatory
# Can be skipped because Unchanging matches Biotoptyp Sonstiges Feuchtgrünland ?????????????????????????????????????ß
# - name: Compensatory SF
#   operations:
#     - type: copy
#       layers:
#         - Grünfläche
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Unchanging
#     - type: intersection
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 2000

- name: Compensatory Sandacker
  operations:
    - type: copy
      layers:
        - Grünfläche
    - type: difference
      reverseDifference: false
      layers:
        - Unchanging
    - type: intersection
      layers:
        - Biotoptyp Sandacker
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 2000

- name: Compensatory Extern
  operations:
    - type: copy
      layers:
        - Ausgleich Extern
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

# Interference
- name: Interference
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Störquellen.shp"
  saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/interference"


- name: "Buffer 100"
  operations:
    - type: buffer
      layers:
        - Interference
      joinStyle: round
      capStyle: round
      distance: 100
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

- name: "Buffer >100<625"
  operations:
    - type: buffer
      layers:
        - Interference
      distance: 625
      joinStyle: round
      capStyle: round
    - type: dissolve
    - type: difference
      reverseDifference: false
      layers:
        - "Buffer 100"
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

# - name: "Buffer >625"
#   operations:
#     - type: copy
#       layers:
#         - Interference
#       joinStyle: round
#       capStyle: round
#     - type: dissolve
#     - type: difference
#       reverseDifference: false
#       layers:
#         - "Buffer 100"
#         - "Buffer >100<625"
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1


- name: Ausgleich Construction
  operations:
    - type: lagefaktor
      grz: 0.5
      parcelLayer: "Parcel"
      parcelLabel: "label"
      minParcelAreaPercent: 1
      protokolOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2_new"
      context:
        - distance: "<100"
          value: 0.75
          sourceLayer: "Buffer 100"
        - distance: ">100<625"
          value: 1
          sourceLayer: "Buffer >100<625"
        # - distance: ">625"
        #   value: 1.25
        #   geometry: "Buffer >625"
      construction:
        layers:
          - layer: Construction SF
            baseValue: 6
          - layer: Construction Sandacker
            baseValue: 1

- name: Ausgleich Compensatory
  operations:
    - type: lagefaktor
      grz: 0.5
      parcelLayer: "Parcel"
      parcelLabel: "label"
      edgeAreaRange: 1
      #   min: 3.5   # in square units
      #   max: 4  # in square units
      protokolOutputDir: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2_new"
      context:
        - distance: "<100"
          value: 0.75
          sourceLayer: "Buffer 100"
        - distance: ">100<625"
          value: 1
          sourceLayer: "Buffer >100<625"
        # - distance: ">625"
        #   value: 1.25
        #   geometry: "Buffer >625"
      compensatory:
        layers:
          - layer: Compensatory Sandacker
            baseValue: 0
            compensatoryMeasureValue: 3
          - layer: Compensatory Extern
            baseValue: 0
            compensatoryMeasureValue: 3

