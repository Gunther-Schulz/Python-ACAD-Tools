geomLayers:

### Leitung ###

# Stadtwerke
- name: Str-Leitungsabschnitt-NS
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_str_leitungsabschnitt_ns_ln.shp"
# - name: Str-Leitungsabschnitt-NS Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Str-Leitungsabschnitt-NS
#     - type: labelAssociation
#       label: Strom Niederspannung
#       labelOffset: 1
- name: Str-Leitungsabschnitt-NS Buffer
  operations:
    - type: buffer
      layers:
        - Str-Leitungsabschnitt-NS
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Was-Leitungsabschnitt-VN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_was_leitungsabschnitt_vn_ln.shp"
# - name: Was-Leitungsabschnitt-VN Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Was-Leitungsabschnitt-VN
#     - type: labelAssociation
#       label: Wasser VN
#       labelOffset: 1
- name: Was-Leitungsabschnitt-VN Buffer
  operations:
    - type: buffer
      layers:
        - Was-Leitungsabschnitt-VN
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Was-Leitungsabschnitt-AN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_was_leitungsabschnitt_an_ln.shp"
# - name: Was-Leitungsabschnitt-AN Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Was-Leitungsabschnitt-AN
#     - type: labelAssociation
#       label: Wasser AN
#       labelOffset: 1
- name: Was-Leitungsabschnitt-AN Buffer
  operations:
    - type: buffer
      layers:
        - Was-Leitungsabschnitt-AN
      distance: 2
      capStyle: flat
      joinStyle: flat

- name: Gas-Leitungsabschnitt-VN
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/stadtwerke_gas_leitungsabschnitt_vn_ln.shp"
# - name: Gas-Leitungsabschnitt-VN Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Gas-Leitungsabschnitt-VN
#     - type: labelAssociation
#       label: Gas VN
#       labelOffset: 1
- name: Gas-Leitungsabschnitt-VN Buffer
  operations:
    - type: buffer
      layers:
        - Gas-Leitungsabschnitt-VN
      distance: 2
      capStyle: flat
      joinStyle: flat

# ONTRAS
- name: Leitung Ontras Gas
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_ontras_gas_ln.shp"
# - name: Leitung Ontras Gas Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Leitung Ontras Gas
#     - type: labelAssociation
#       label: Gas
#       labelOffset: 1

- name: Leitung Ontras TK
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_ontras_tk_ln.shp"
# - name: Leitung Ontras TK Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Leitung Ontras TK
#     - type: labelAssociation
#       label: Telekommunikation
#       labelOffset: 1
- name: Leitung Ontras Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Ontras Gas
        - Leitung Ontras TK
      distance: 10
      # capStyle: round
      joinStyle: round

# Vermessung
- name: Gas_HD_LEIT # Edis Gas
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_gas_hd_ln.shp"
# - name: Gas_HD_LEIT Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Gas_HD_LEIT
#     - type: labelAssociation
#       label: Gas Hochdruck
#       labelOffset: 1
- name: Gas_HD_LEIT Buffer
  operations:
    - type: buffer
      layers:
        - Gas_HD_LEIT
      distance: 3
      # capStyle: round
      joinStyle: round

- name: Stromkabel-MS_unterirdisch_LEIT
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_stromkabel_ms_unterirdisch_ln.shp"
- name: Stromkabel-MS_unterirdisch_LEIT Label Points
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_stromkabel_ms_unterirdisch_besc_pt.shp"
# - name: "Stromkabel-MS_unterirdisch_LEIT Label"
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Stromkabel-MS_unterirdisch_LEIT
#     - type: labelAssociation
#       labelLayer: "Stromkabel-MS_unterirdisch_LEIT Label Points"
#       labelColumn: "label"
#       labelOffset: 1
- name: Stromkabel-MS_unterirdisch_LEIT Buffer
  operations:
    - type: buffer
      layers:
        - Stromkabel-MS_unterirdisch_LEIT
      distance: 2
      capStyle: flat
      joinStyle: flat

# Maxsolar (Vermessung)
- name: Leitung Mittelspannung Zuwegung
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/maxsolar_leitung_ms_zuwegung_ln.shp"
# - name: Leitung Mittelspannung Zuwegung Label
#   updateDxf: true
#   style:  leitung
  # operations:
  #   - type: copy
  #     layers:
  #       - Leitung Mittelspannung Zuwegung
  #   - type: labelAssociation
  #     label: Strom Mittelspannung
  #     labelOffset: 1

# Bestand-Zeichnung

- name: Leitung Telekom
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_telekom_ln.shp"
# - name: Leitung Telekom Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Leitung Telekom
#     - type: labelAssociation
#       label: Telekom
#       labelOffset: 1
- name: Leitung Telekom Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Telekom
      distance: 15
      capStyle: flat
      joinStyle: flat

- name: Leitung Edis
  updateDxf: true
  style: leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/input_leitungsverlauf_edis_ln.shp"
# - name: Leitung Edis Label
#   updateDxf: true
#   style:  leitung
#   operations:
#     - type: copy
#       layers:
#         - Leitung Edis
#     - type: labelAssociation
#       label: Strom Edis
#       labelOffset: 1
- name: Leitung Edis Buffer
  operations:
    - type: buffer
      layers:
        - Leitung Edis
      distance: 2 # Gechätzt, müsste nachschauen
      capStyle: flat
      joinStyle: flat

- name: Leitungen Labels
  updateDxf: true
  style: leitung
  operations:
    - type: labelAssociation
      labelSpacing: 200
      labelSettings:
        labelOffset: 2
        widthFactor: 2      # Makes label box 30% wider than the text width
        heightFactor: 1.5     # Makes label box 50% taller than the text height
        bufferFactor: 0.2     # Adds 20% of text height as padding around the label box
        collisionMargin: 0.25 # Adds 25% extra space when checking for collisions with other labels
      sourceLayers:
        - name: Str-Leitungsabschnitt-NS
          label: Strom Niederspannung

        - name: Was-Leitungsabschnitt-VN
          label: Wasser VN

        - name: Was-Leitungsabschnitt-AN
          label: Wasser AN

        - name: Gas-Leitungsabschnitt-VN
          label: Gas VN

        - name: Leitung Ontras Gas
          label: Gas Ontras

        - name: Leitung Ontras TK
          label: Telekom Ontras

        - name: Gas_HD_LEIT
          label: Gas Hochdruck

        - name: Stromkabel-MS_unterirdisch_LEIT
          label: Stromkabel MS unterirdisch

        - name: Leitung Mittelspannung Zuwegung
          label: Strom Mittelspannung Zuwegung

        - name: Leitung Telekom
          label: Telekom
          labelOffset: -2

        - name: Leitung Edis
          label: Strom Edis




- name: Leitungen Path
  operations:
    - type: dissolve
      layers:
        - Str-Leitungsabschnitt-NS
        - Was-Leitungsabschnitt-VN
        - Was-Leitungsabschnitt-AN
        - Gas-Leitungsabschnitt-VN
        - Leitung Ontras Gas
        - Leitung Ontras TK
        - Gas_HD_LEIT
        - Stromkabel-MS_unterirdisch_LEIT
        - Leitung Mittelspannung Zuwegung
        - Leitung Telekom
        - Leitung Edis
- name: Leitungen Buffer
  operations:
    - type: dissolve
      layers:
        - Str-Leitungsabschnitt-NS Buffer
        - Was-Leitungsabschnitt-VN Buffer
        - Was-Leitungsabschnitt-AN Buffer
        - Gas-Leitungsabschnitt-VN Buffer
        - Leitung Ontras Buffer
        - Gas_HD_LEIT Buffer
        - Stromkabel-MS_unterirdisch_LEIT Buffer
        - Leitung Telekom Buffer
        - Leitung Edis Buffer
### Baum ###
- name: Baum_Laubbaum Points
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_baum_laubbaum_pt.shp"
# - name: Baum_Laubbaum Label
#   updateDxf: true
#   style: baum
#   operations:
#     - type: copy
#       layers:
#         - Baum_Laubbaum Points
#     - type: labelAssociation
#       labelColumn: "label_ml"
#       labelOffset: 1
- name: Baum_Laubbaum Krone
  updateDxf: true
  operations:
    - type: circle
      layers:
        - Baum_Laubbaum Points
      radiusField: Krone_R
- name: Baum_Laubbaum Buffer
  operations:
    - type: buffer
      layers:
        - Baum_Laubbaum Krone
      distance: 1.5
      capStyle: round
      joinStyle: round
- name: Baum_Laubbaum Envelope
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_baum_laubbaum_pt.shp"
  operations:
    - type: connect-points
      maxDistance: 27
    - type: buffer
      # distance: 10
      distance: 7
      capStyle: round
      joinStyle: round
    - type: dissolve

### Grundlagen ###
- name: Parcel
  label: label
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/parcel.shp"
- name: Flur
  label: flurname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/flur.shp"
- name: Gemarkung
  label: gmkname
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemarkung.shp"
- name: Gemeinde
  label: gen
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/gemeinde.shp"

### Exclude ###
- name: Exclude
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude.shp"
- name: Exclude 2
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude2.shp"
- name: Exclude 3
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_3.shp"
- name: Exclude Leitung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_leitung.shp"
- name: Exclude Bahn Buffer
  # It is already a buffered shape
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_bahn.shp"
- name: Exclude Böschung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_böschung.shp"
- name: Exclude Zuwegung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/exclude_zuwegung.shp"
- name: Baugrenze Exclude
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/baugrenze_exclude.shp"

### Zuwegung ###
- name: Zuwegung
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/maxsolar_zuwegung_mittellinie_ln.shp"
  updateDxf: true
  operations:
    - type: buffer
      distance: 2
      capStyle: square
    - type: difference
      reverseDifference: false
      layers:
        - Exclude Zuwegung
- name: Zuwegung Schraffur
  updateDxf: true
  style: verkehrsfläche
  applyHatch:
    layers:
      - Zuwegung

### Geltungsbereich ###
- name: Geltungsbereich Input
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/geltungsbereich_pl.shp"
- name: Geltungsbereich
  updateDxf: true
  operations:
    - type: dissolve
      layers:
        - Geltungsbereich Input
        - Zuwegung
    - type: difference
      reverseDifference: false
      layers:
        - Exclude
        - Exclude 2
        - Exclude 3
        # - Exclude Bahn Buffer
        # - Exclude Böschung
        - Exclude Leitung
        - Baum_Laubbaum Envelope
    - type: calculate
      calculations:
        - type: area
          as: area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/geltungsbereich_report.json"
      featureColumns:
        - area
      calculate:
        - area
      decimalPlaces:
        area: 0
# Report only
- name: Parcel Intersections
  updateDxf: false
  operations:
    - type: copy
      layers:
        - name: Parcel
    - type: intersection
      layers:
        - name: Geltungsbereich
    - type: filterGeometry
      minArea: 10
      geometryTypes:
        - polygon
    - type: calculate
      calculations:
        - type: area
          as: intersection_area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/parcel_intersections_report.json"
      featureColumns:
        - label
        - intersection_area
      calculate:
        - area
      decimalPlaces:
        intersection_area: 0
        area: 0

### Grünfläche ###
- name: Grünfläche Input from source
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input_from_source_pl.shp"
- name: Grünfläche Input
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/grünfläche_input.shp"
- name: Moor
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/moor.shp"
- name: "ges gesch Biotope"
  # updateDxf: true
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/ges. geschützte Biotope.shp"
- name: Graben
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/vermessung_graben_pl.shp"
- name: Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "blue"
  operations:
    - type: copy
      layers:
        - "Grünfläche Input from source"
        - "Grünfläche Input"
        # - Baum_Laubbaum Envelope
        # - Baum_Laubbaum Buffer
        - Moor
        - "ges gesch Biotope"
        - Leitung Ontras Buffer
        - Gas_HD_LEIT Buffer
    - type: dissolve
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: filterGeometry
      minArea: 100
      geometryTypes:
        - polygon
    - type: difference
      reverseDifference: false
      layers:
        - Graben
- name: Ausgleich Grünfläche
  updateDxf: true
  # style:
  #   layer:
  #     color: "chartreuse-medium"
  operations:
    - type: buffer
      layers:
        - Grünfläche
      # distance: -3
      distance: -1
      joinStyle: round
      # skipIslands: true
      preserveIslands: true
- name: Grünfläche Schraffur
  updateDxf: true
  style: grünfläche
  applyHatch:
    layers:
      - Ausgleich Grünfläche
- name: Ausgleich Schutzflächeumgrenzung
  updateDxf: true
  # style:
  #   layer:
  #     color: "yellow-medium"
  operations:
    - type: copy
      layers:
        - Grünfläche
    - type: difference
      reverseDifference: auto
      layers:
        - Ausgleich Grünfläche
- name: Grünfläche T-Linie Symbol Schraffur
  updateDxf: true
  style: schutzflächeumgrenzung
  applyHatch:
    layers:
      - Ausgleich Schutzflächeumgrenzung

### Baufeld/Baugrenze ###
- name: Baufeld
  updateDxf: true
  close: true
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      reverseDifference: false
      useBufferTrick: true
      operations:
        - type: dissolve
          layers:
            - Grünfläche
            - Graben
            - Zuwegung
    - type: filterGeometry
      minArea: 200
      geometryTypes:
        - polygon
- name: Baufeld Schraffur
  updateDxf: true
  style: baufeld
  applyHatch:
    layers:
      - Baufeld
- name: Baugrenze 2
  updateDxf: true
  style: baugrenze_2
  close: true
  operations:
    - type: buffer
      layers:
        - Baugrenze
      distance: -0.4
- name: Baugrenze
  updateDxf: true
  style: baugrenze
  linetypeScale: 0.5
  linetypeGeneration: true
  close: true
  operations:
    - type: buffer
      layers:
        - Baufeld
      distance: -3
    - type: difference
      reverseDifference: false
      layers:
        - Leitungen Buffer
        - Baum_Laubbaum Envelope
        - Baum_Laubbaum Buffer
        - Baugrenze Exclude
        - Exclude Bahn Buffer
        - Exclude Böschung
    - type: calculate
      calculations:
        - type: area
          as: area
          decimalPlaces: 0
    - type: report
      outputFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/reports/baugrenze_report.json"
      featureColumns:
        - area
      calculate:
        - area
      decimalPlaces:
        area: 0
    # - type: buffer
    #   distance: -6
    # - type: buffer
    #   distance: 6




### Ausgleich ###

# Biotoptypen
- name: Biotoptyp Sonstiges Feuchtgrünland # Unchanging
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/GFD - Sonstiges Feuchtgrünland.shp"  
  operations:
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: filterGeometry
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

- name: Biotoptyp Sandacker
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/ACS - Sandacker.shp"
  operations:
    - type: intersection
      layers:
        - Geltungsbereich
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1

# Externer Ausgleich
- name: Ausgleich Extern
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Ausgleich Süden.shp"

# # Changing
# - name: Changing
#   operations:
#     - type: copy
#       layers:
#         - Baufeld
#         - Grünfläche
#         - Ausgleich Extern
#         - Zuwegung
#     - type: dissolve
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"

# Unchanging
- name: Unchanging
  operations:
    - type: copy
      layers:
        - Geltungsbereich
    - type: difference
      reverseDifference: false
      layers:
        - Baufeld
        - Grünfläche
        - Ausgleich Extern
        - Zuwegung
    - type: dissolve
    - type: copy
      layers:
        - Biotoptyp Sonstiges Feuchtgrünland
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/unchanging"

# Construction

- name: Construction SF
  operations:
    - type: copy
      layers:
        - Baufeld
    - type: dissolve
    - type: intersection
      layers:
        - Biotoptyp Sonstiges Feuchtgrünland
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/construction"

- name: Construction Sandacker
  operations:
    - type: copy
      layers:
        - Baufeld
        - Zuwegung
    - type: dissolve
    - type: intersection
      layers:
        - Biotoptyp Sandacker
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/construction"


# Compensatory
# Can be skipped because Unchanging matches Biotoptyp Sonstiges Feuchtgrünland
# - name: Compensatory SF
#   operations:
#     - type: copy
#       layers:
#         - Grünfläche
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Unchanging
#     - type: intersection
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 2000
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

- name: Compensatory Sandacker
  operations:
    - type: copy
      layers:
        - Grünfläche
    - type: difference
      reverseDifference: false
      layers:
        - Unchanging
    - type: intersection
      layers:
        - Biotoptyp Sandacker
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 2000
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

- name: Compensatory Extern
  operations:
    - type: copy
      layers:
        - Ausgleich Extern
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

# Interference
- name: Interference
  shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Störquellen.shp"
  saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/interference"

# Parcel
- name: Parcel_Lagefaktor
  operations:
    - type: copy
      layers:
        - Parcel
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/parcel"

# Scope
- name: Scope
  operations:
    - type: copy
      layers:
        - Geltungsbereich
        - Ausgleich Extern
    - type: dissolve
    - type: filterGeometry
      geometryTypes:
        - polygon
      minArea: 1
  # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/scope"
























# ### Ausgleich ###

# # Biotoptypen
# - name: Biotoptyp Sonstiges Feuchtgrünland # Unchanging
#   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/GFD - Sonstiges Feuchtgrünland.shp"  
#   operations:
#     - type: intersection
#       layers:
#         - Geltungsbereich
#     - type: dissolve
#     - type: filterGeometry
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1

# - name: Biotoptyp Sandacker
#   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/ACS - Sandacker.shp"
#   operations:
#     - type: intersection
#       layers:
#         - Geltungsbereich
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1

# # Externer Ausgleich
# - name: Ausgleich Extern
#   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Ausgleich Süden.shp"

# # Changing
# - name: Changing
#   operations:
#     - type: copy
#       layers:
#         - Baufeld
#         - Grünfläche
#         - Ausgleich Extern
#         - Zuwegung
#     - type: dissolve
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   # saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"

# # Unchanging
# - name: Unchanging
#   operations:
#     - type: copy
#       layers:
#         - Geltungsbereich
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Changing
#     - type: copy
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/unchanging"

# # Construction

# - name: Construction SF
#   operations:
#     - type: copy
#       layers:
#         - Baufeld
#     - type: dissolve
#     - type: intersection
#       layers:
#         - Biotoptyp Sonstiges Feuchtgrünland
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/construction"

# - name: Construction Sandacker
#   operations:
#     - type: copy
#       layers:
#         - Baufeld
#         - Zuwegung
#     - type: dissolve
#     - type: intersection
#       layers:
#         - Biotoptyp Sandacker
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/construction"


# # Compensatory
# # Can be skipped because Unchanging matches Biotoptyp Sonstiges Feuchtgrünland
# # - name: Compensatory SF
# #   operations:
# #     - type: copy
# #       layers:
# #         - Grünfläche
# #     - type: difference
# #       reverseDifference: false
# #       layers:
# #         - Unchanging
# #     - type: intersection
# #       layers:
# #         - Biotoptyp Sonstiges Feuchtgrünland
# #     - type: dissolve
# #     - type: filterGeometry
# #       geometryTypes:
# #         - polygon
# #       minArea: 2000
# #   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

# - name: Compensatory Sandacker
#   operations:
#     - type: copy
#       layers:
#         - Grünfläche
#     - type: difference
#       reverseDifference: false
#       layers:
#         - Unchanging
#     - type: intersection
#       layers:
#         - Biotoptyp Sandacker
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 2000
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

# - name: Compensatory Extern
#   operations:
#     - type: copy
#       layers:
#         - Ausgleich Extern
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/compensatory"

# # Interference
# - name: Interference
#   shapeFile: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/input/Störquellen.shp"
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/interference"

# # Parcel
# - name: Parcel_Lagefaktor
#   operations:
#     - type: copy
#       layers:
#         - Parcel
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/parcel"

# # Scope
# - name: Scope
#   operations:
#     - type: copy
#       layers:
#         - Geltungsbereich
#         - Ausgleich Extern
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/scope"

# # Changing by type
# - name: Changing Compensatory Extern
#   operations:
#     - type: copy
#       layers:
#         - Compensatory Extern
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"

# - name: Changing Compensatory Sandacker
#   operations:
#     - type: copy
#       layers:
#         - Compensatory Sandacker
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"

# - name: Changing Construction Sandacker
#   operations:
#     - type: copy
#       layers:
#         - Construction Sandacker
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"

# - name: Changing Construction SF
#   operations:
#     - type: copy
#       layers:
#         - Construction SF
#     - type: dissolve
#     - type: filterGeometry
#       geometryTypes:
#         - polygon
#       minArea: 1
#   saveToLagefaktor: "Öffentlich Planungsbüro Schulz/Projekte/22-20 Maxsolar - Waren, Grabowhöfe/GIS/Lagefaktor/Waren_2/changing"
